(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{118:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n="LOG_IN"},119:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n="SET_ACTIVE_PRODUCT"},123:function(e,t,r){"use strict";r(0);var n=r(15),a=r(9),c=r(63),i=r(374),s=r(218),o=r(366),u=r(37),d=r(1);t.a=function(e){var t=e.errors,r=e.touched,l=e.setFieldValue,j=e.setImage,b=e.image,m=(e.submitForm,e.setTags),h=e.tags,p=Object(u.a)();return Object(d.jsxs)(n.b,{children:[Object(d.jsxs)(a.a,{container:!0,spacing:1,children:[Object(d.jsxs)(a.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(d.jsx)(a.a,{item:!0,xs:2,children:Object(d.jsxs)("label",{children:["Nimi: ",Object(d.jsx)("b",{style:{color:"red"},children:"*"})," "]})}),Object(d.jsx)(a.a,{item:!0,xs:9,children:Object(d.jsx)(n.a,{className:p.field,placeholder:"Uusi tuote",type:"text",name:"name"})}),Object(d.jsx)(a.a,{item:!0,xs:1,children:t.name&&r.name&&Object(d.jsx)("div",{children:t.name})})]}),Object(d.jsxs)(a.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(d.jsx)(a.a,{item:!0,xs:2,children:Object(d.jsx)("label",{children:"Kuvaus: "})}),Object(d.jsx)(a.a,{item:!0,xs:9,children:Object(d.jsx)(n.a,{className:p.field,placeholder:"Wish.com tason tuote (ei pakollinen)",type:"text",name:"description"})}),Object(d.jsx)(a.a,{item:!0,xs:1,children:t.description&&r.description&&Object(d.jsx)("div",{children:t.description})})]}),Object(d.jsxs)(a.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(d.jsx)(a.a,{item:!0,xs:2,children:Object(d.jsxs)("label",{children:["Hinta: ",Object(d.jsx)("b",{style:{color:"red"},children:"*"})," "]})}),Object(d.jsx)(a.a,{item:!0,xs:9,children:Object(d.jsx)(n.a,{className:p.field,placeholder:"Hinta",type:"number",name:"price"})}),Object(d.jsx)(a.a,{item:!0,xs:1,children:t.price&&r.price&&Object(d.jsx)("div",{children:t.price})})]}),Object(d.jsxs)(a.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(d.jsx)(a.a,{item:!0,xs:2,children:Object(d.jsx)("label",{children:"Varastossa: "})}),Object(d.jsx)(a.a,{item:!0,xs:9,children:Object(d.jsx)(n.a,{className:p.field,placeholder:"Varastossa (optional)",type:"number",name:"stock"})}),Object(d.jsx)(a.a,{item:!0,xs:1,children:t.stock&&r.stock&&Object(d.jsx)("div",{children:t.stock})})]}),Object(d.jsxs)(a.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(d.jsx)(a.a,{item:!0,xs:2,children:Object(d.jsx)("label",{children:"Tagit: "})}),Object(d.jsx)(a.a,{item:!0,xs:9,children:Object(d.jsx)(c.a,{border:2,className:p.field,children:Object(d.jsx)(i.a,{className:p.field,multiple:!0,style:{backgroundColor:"rgb(255,255,255)"},disableUnderline:!0,value:h,onChange:function(e){m(e.target.value)},renderValue:function(e){return Object(d.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:e.map((function(e){return Object(d.jsx)(s.a,{label:e,style:{display:"flex",flexWrap:"wrap",backgroundColor:"#5aafe0",marginLeft:2}},e)}))})},children:["Kirves","Mokki Essential","Ruoka/Juoma","muut"].map((function(e){return Object(d.jsx)(o.a,{style:{backgroundColor:"rgb(255,255,255)"},value:e,children:e},e)}))})})}),Object(d.jsx)(a.a,{item:!0,xs:1})]}),Object(d.jsxs)(a.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(d.jsx)(a.a,{item:!0,xs:2,children:Object(d.jsx)("label",{children:" Kuva: "})}),Object(d.jsx)(a.a,{item:!0,xs:9,children:Object(d.jsx)(n.a,{className:p.field,type:"File",name:"image",value:void 0,style:{color:"rgba(0,0,0,0)"},onChange:function(e){l("image",e.currentTarget.files?e.currentTarget.files[0]:void 0),j(e.currentTarget.files?e.currentTarget.files[0]:void 0)}})}),Object(d.jsx)(a.a,{item:!0,xs:1,children:b&&Object(d.jsx)("button",{type:"button",onClick:function(){l("image",void 0),j(void 0)},children:"Peruuta"})})]}),Object(d.jsxs)(a.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(d.jsx)(a.a,{item:!0,xs:2,children:Object(d.jsx)("label",{children:" Kuvan esikatselu: "})}),Object(d.jsx)(a.a,{item:!0,xs:9,children:b?Object(d.jsx)("img",{height:100,width:100,src:URL.createObjectURL(b),alt:"Preview to upload"}):Object(d.jsx)("img",{height:100,width:100,src:"https://live.staticflickr.com/5217/5471047557_4dc13f5376_n.jpg",alt:"Preview to upload"})})]})]}),Object(d.jsx)("button",{className:p.button,type:"submit",children:" L\xe4het\xe4 "})]})}},124:function(e,t,r){"use strict";r(0);var n=r(15),a=r(9),c=r(37),i=r(1);t.a=function(e){var t=e.errors,r=e.touched,s=Object(c.a)();return Object(i.jsxs)(n.b,{children:[Object(i.jsxs)(a.a,{container:!0,spacing:1,children:[Object(i.jsxs)(a.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(i.jsx)(a.a,{item:!0,xs:2,children:Object(i.jsxs)("label",{children:["K\xe4ytt\xe4j\xe4nimi: ",Object(i.jsx)("b",{style:{color:"red"},children:"*"})," "]})}),Object(i.jsx)(a.a,{item:!0,xs:9,children:Object(i.jsx)(n.a,{className:s.field,placeholder:"K\xe4ytt\xe4j\xe4nimi",type:"text",name:"userName"})}),Object(i.jsx)(a.a,{item:!0,xs:1,children:t.userName&&r.userName&&Object(i.jsx)("div",{children:t.userName})})]}),Object(i.jsxs)(a.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(i.jsx)(a.a,{item:!0,xs:2,children:Object(i.jsxs)("label",{children:["Etunimi: ",Object(i.jsx)("b",{style:{color:"red"},children:"*"})," "]})}),Object(i.jsx)(a.a,{item:!0,xs:9,children:Object(i.jsx)(n.a,{className:s.field,placeholder:"Etunimi",type:"text",name:"firstName"})}),Object(i.jsx)(a.a,{item:!0,xs:1,children:t.firstName&&r.firstName&&Object(i.jsx)("div",{children:t.firstName})})]}),Object(i.jsxs)(a.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(i.jsx)(a.a,{item:!0,xs:2,children:Object(i.jsxs)("label",{children:["Sukunimi: ",Object(i.jsx)("b",{style:{color:"red"},children:"*"})," "]})}),Object(i.jsx)(a.a,{item:!0,xs:9,children:Object(i.jsx)(n.a,{className:s.field,placeholder:"Sukunimi",type:"text",name:"lastName"})}),Object(i.jsx)(a.a,{item:!0,xs:1,children:t.lastName&&r.lastName&&Object(i.jsx)("div",{children:t.lastName})})]}),Object(i.jsxs)(a.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(i.jsx)(a.a,{item:!0,xs:2,children:Object(i.jsxs)("label",{children:["Salasana: ",Object(i.jsx)("b",{style:{color:"red"},children:"*"})," "]})}),Object(i.jsx)(a.a,{item:!0,xs:9,children:Object(i.jsx)(n.a,{className:s.field,placeholder:"Salasana",type:"password",name:"password"})}),Object(i.jsx)(a.a,{item:!0,xs:1,children:t.password&&r.password&&Object(i.jsx)("div",{children:t.password})})]}),Object(i.jsxs)(a.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(i.jsx)(a.a,{item:!0,xs:2,children:Object(i.jsxs)("label",{children:["Email: ",Object(i.jsx)("b",{style:{color:"red"},children:"*"})," "]})}),Object(i.jsx)(a.a,{item:!0,xs:9,children:Object(i.jsx)(n.a,{className:s.field,placeholder:"example@gmail.com",type:"text",name:"email"})}),Object(i.jsx)(a.a,{item:!0,xs:1,children:t.email&&r.email&&Object(i.jsx)("div",{children:t.email})})]})]}),Object(i.jsx)("button",{className:s.button,type:"submit",children:"L\xe4het\xe4"})]})}},125:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){if(!e)return"";var t=new Date(e),r=t.getDate().toString(),n="".concat(t.getMonth()+1),a=t.getFullYear().toString(),c=t.getHours(),i=t.getMinutes();return r+"."+n+"."+a+"  "+(c<10?"0"+c.toString():c.toString())+":"+(i<10?"0"+i.toString():i.toString())}},149:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return I}));var n=r(7),a=(r(0),r(50)),c=r(212),i=r(150),s=r(214),o=r(369),u=r(215),d=r(151),l=r(213),j=r(102),b=r(34),m=r(200),h=r.n(m),p=r(6),O=r(68),f=r(69),x=r(27),g=r(80),v=r(16),y=r(22),w=r(153),N=r(70),k=r(1),C=Object(c.a)({root:{width:170,maxHeight:340,marginRight:20},centerText:{textAlign:"center"},media:{height:160},overflow:{maxWidth:170,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}),I=function(t){var r,c=t.product,m=C(),I=Object(p.b)(),S=Object(p.c)((function(e){return e.userReducer.user})),T=Object(p.c)((function(e){return e.shoppingCartReducer.cartId})),R=Object(p.c)((function(e){return e.shoppingCartReducer.cart})),_=function(e){if(S)if(T){y.a.addProductToShoppingCart({product:e,userId:S._id,cartId:T}).then((function(){I(Object(v.a)(e,T))})).catch((function(e){return console.log(e)}))}else{I(Object(v.a)(e,T));var t=[e];y.a.createNewShoppingCart({products:t,user:S._id,id:""}).then((function(e){I(Object(v.c)(e.id))})).catch((function(e){return console.log(e)}))}else I(Object(v.a)(e,T))},A=function(e){S?y.a.increaseProductQuantity({product:e,userId:S._id,cartId:T}).then((function(){I(Object(v.e)(e,T))})):I(Object(v.e)(e,T))};if(c.image){var P=e.from(c.image.data);r=Object(N.a)(P)}return Object(k.jsxs)(i.a,{className:m.root,children:[Object(k.jsx)(a.b,{to:"/product",style:{textDecoration:"none",color:"black"},children:Object(k.jsxs)(s.a,{onClick:function(){return I(Object(g.a)(c)),void window.localStorage.setItem("activeProduct",c.name)},children:[Object(k.jsx)(d.a,{className:m.media,image:r}),Object(k.jsxs)(u.a,{children:[Object(k.jsxs)(b.a,{className:"".concat(m.overflow," ").concat(m.centerText),style:{fontSize:16},gutterBottom:!0,variant:"h6",component:"h2",children:[c.name," ",Object(k.jsx)("br",{})," ",c.price,"\u20ac"]}),Object(k.jsx)(b.a,{className:"".concat(m.overflow," ").concat(m.centerText),variant:"body2",color:"textSecondary",component:"p",children:c.description})]})]})}),Object(k.jsxs)(o.a,{children:[Object(k.jsx)(l.a,{disabled:c.stock<=0,size:"small",color:"primary",onClick:function(){return function(){var e=R.some((function(e){return e._id===c._id})),t=R.find((function(e){return e._id===c._id}));t||(t=Object(n.a)(Object(n.a)({},c),{},{quantity:1})),e?A(t):_(t)}()},children:"Lis\xe4\xe4 ostoskoriin"}),"Admin"===(null===S||void 0===S?void 0:S.userType)&&Object(k.jsx)(j.a,{onClick:function(){return O.a.deleteProduct(c).catch((function(e){return console.log(e)})),I(Object(f.c)(c)),void I(Object(x.b)("Removed "+c.name,"info"))},children:Object(k.jsx)(w.a,{title:"Poista tuote tietokannasta",children:Object(k.jsx)(h.a,{})})})]})]})}}).call(this,r(111).Buffer)},16:function(e,t,r){"use strict";r.d(t,"c",(function(){return c})),r.d(t,"g",(function(){return i})),r.d(t,"a",(function(){return s})),r.d(t,"e",(function(){return o})),r.d(t,"d",(function(){return u})),r.d(t,"f",(function(){return d})),r.d(t,"b",(function(){return l}));var n=r(7),a=r(43),c=function(e){var t={type:a.b,cartId:e};return function(e){e(t)}},i=function(e,t){var r={type:a.f,cartId:e,data:t};return function(e){e(r)}},s=function(e,t){var r=Object(n.a)(Object(n.a)({},e),{},{quantity:1}),c={type:a.d,cartId:t,data:r};return function(e){e(c)}},o=function(e,t){var r={type:a.d,cartId:t,data:Object(n.a)(Object(n.a)({},e),{},{quantity:e.quantity+1})};return function(e){e(r)}},u=function(e,t){var r={type:a.c,cartId:t,data:Object(n.a)(Object(n.a)({},e),{},{quantity:e.quantity-1})};return function(e){e(r)}},d=function(e,t){var r={type:a.e,cartId:t,data:e};return function(e){e(r)}},l=function(){var e={type:a.a};return function(t){t(e)}}},19:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e,t){var r={type:"",modal:t,data:e};return function(e){e(r)}}},201:function(e,t,r){"use strict";(function(e){var n=r(7),a=r(0),c=r(129),i=r(63),s=r(218),o=r(102),u=r(34),d=r(213),l=r(153),j=r(150),b=r(151),m=r(9),h=r(6),p=r(19),O=r(375),f=r(152),x=r(216),g=r(370),v=r(22),y=r(45),w=r(207),N=r(70),k=r(202),C=r(16),I=r(80),S=r(40),T=r(1),R=Object(c.a)({root:{display:"flex",flexDirection:"row"},box:{marginLeft:25,width:"100%",borderRadius:15},card:{maxWidth:500,maxHeight:350},image:{height:350,width:500},availability:{height:20,width:20,marginLeft:10},button:{padding:25,width:"100%"},priceTag:{width:150,borderRadius:15,marginBottom:30,backgroundColor:"lightgrey"},chip:{padding:15,marginTop:15,marginLeft:15,marginBottom:15,width:"80%"},ratedTag:{borderRadius:10,color:"darkgreen",height:20,width:80,textAlign:"center",marginLeft:10,padding:3,transform:"rotate(-30deg)"}});t.a=function(){var t,r=R(),c=Object(h.b)(),_=Object(h.c)((function(e){return e.activeProductReducer.product})),A=Object(h.c)((function(e){return e.productReducer.products})),P=Object(h.c)((function(e){return e.userReducer.user})),E=P?P._id:"";Object(a.useEffect)((function(){if(!_){var e=window.localStorage.getItem("activeProduct"),t=A.find((function(t){return t.name===e}));t&&c(Object(I.a)(t))}}),[A]);var U=Object(h.c)((function(e){return e.shoppingCartReducer}));if(!_)return Object(T.jsx)("div",{});var q,M=null===P||void 0===P||null===(t=P.ratings)||void 0===t?void 0:t.some((function(e){return e._id.toString()===_._id.toString()})),L=function(e){P?v.a.increaseProductQuantity({product:e,userId:E,cartId:U.cartId}).then((function(){c(Object(C.e)(e,U.cartId))})):c(Object(C.e)(e,U.cartId))},F=function(e){P?v.a.addProductToShoppingCart({product:e,userId:E,cartId:U.cartId}).then((function(){c(Object(C.a)(e,U.cartId))})):c(Object(C.a)(e,U.cartId))};if(_.image){var D=e.from(_.image.data);q=Object(N.a)(D)}return Object(T.jsxs)("div",{className:r.root,children:[Object(T.jsx)(j.a,{className:r.card,children:Object(T.jsx)(b.a,{image:q,className:r.image})}),Object(T.jsx)(i.a,{border:1,className:r.box,style:{color:"blue"},children:Object(T.jsxs)(m.a,{container:!0,item:!0,xs:12,spacing:3,style:{color:"black",padding:15},children:[Object(T.jsxs)(m.a,{item:!0,xs:7,children:[Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(T.jsxs)(u.a,{variant:"h3",style:{marginRight:15},children:[" ",_.name,"  "]}),"Admin"===(null===P||void 0===P?void 0:P.userType)&&Object(T.jsx)(i.a,{border:1,style:{borderRadius:10,color:"darkblue",width:50,marginBottom:25},children:Object(T.jsx)(o.a,{style:{width:"100%",height:"100%"},color:"primary",onClick:function(){return c(Object(p.a)(!0,"ModifyProduct"))},children:Object(T.jsx)(x.a,{})})})]}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(T.jsx)(O.a,{readOnly:!P||M,value:function(){if(!_.ratings||0===_.ratings.length)return 0;var e=_.ratings.reduce((function(e,t){return e+t}),0);return Object(k.a)(e/_.ratings.length)}(),name:_.name,precision:.5,emptyIcon:Object(T.jsx)(g.a,{fontSize:"inherit"}),onChange:function(e,t){return function(e){var t=e||0;y.a.addRatingForProduct(E,_._id,t).then((function(e){if(null!==e){var t,r=null===(t=e.ratings)||void 0===t?void 0:t.find((function(e){return e._id.toString()===_._id}));r&&(c(Object(I.a)(r)),c(Object(S.a)(e)))}}))}(t)}}),M&&Object(T.jsx)(i.a,{border:2,className:r.ratedTag,children:Object(T.jsx)(u.a,{children:"Arvosteltu"})})]}),Object(T.jsxs)(u.a,{children:[Object(T.jsx)("br",{}),_.description,Object(T.jsx)("br",{}),"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."]})]}),Object(T.jsx)(m.a,{item:!0,xs:5,children:Object(T.jsxs)("div",{style:{position:"relative",top:150},children:[Object(T.jsx)(i.a,{border:1,justifyContent:"center",className:r.priceTag,children:Object(T.jsx)(s.a,{size:"small",label:_.price.toString()+"\u20ac",color:"primary",className:r.chip})}),Object(T.jsx)(i.a,{border:1,justifyContent:"center",style:{backgroundColor:"lightgrey",maxWidth:300,borderRadius:10},children:Object(T.jsxs)(d.a,{className:r.button,disabled:_.stock<=0,size:"small",color:"primary",onClick:function(){return function(){var e=U.cart.some((function(e){return e._id===_._id})),t=U.cart.find((function(e){return e._id===_._id}));t||(t=Object(n.a)(Object(n.a)({},_),{},{quantity:1})),e?L(t):F(t)}()},children:["Lis\xe4\xe4 ostoskoriin",Object(T.jsx)(l.a,{title:Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("p",{children:[" Green = Available ",Object(T.jsx)("br",{})," Yellow = Few left ",Object(T.jsx)("br",{})," Red = Not available  "]})," "]}),children:_.stock<=0?Object(T.jsx)(f.a,{className:r.availability,style:{color:"red"}}):_.stock>=1&&_.stock<=5?Object(T.jsx)(f.a,{className:r.availability,style:{color:"yellow"}}):Object(T.jsx)(f.a,{className:r.availability,style:{color:"green"}})})]})})]})})]})}),Object(T.jsx)(w.a,{})]})}}).call(this,r(111).Buffer)},202:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){var t="".concat(e),r=e-parseInt(t,10);return 5===(r=Math.round(10*r))?parseInt(t,10)+.5:r<3||r>7?Math.round(e):parseInt(t,10)+.5}},203:function(e,t,r){"use strict";(function(e){var n=r(7),a=(r(0),r(34)),c=r(371),i=r(63),s=r(219),o=r(102),u=r(153),d=r(212),l=r(368),j=r(216),b=r(6),m=r(19),h=r(208),p=r(209),O=r(125),f=r(70),x=r(1),g=Object(d.a)({nameAndIcon:{width:"75%",margin:"0 auto",flexGrow:1},avatar:{backgroundColor:"white",margin:"0 auto",width:120,height:120,"&:hover":{backgroundColor:"lightgrey"}},column:{display:"flex",flexDirection:"column"},header:{textAlign:"center",height:25,color:"white",borderRadius:"15%",backgroundColor:"#2525b8"}}),v={bgcolor:"background.paper",m:1};t.a=function(t){var r,d=t.user,y=g(),w=Object(b.b)();if(!d)return Object(x.jsx)("div",{});for(var N,k=function(e){var t=e.text,r=e.style;return Object(x.jsx)(a.a,{style:r,className:"".concat(y.header),children:t})},C=[],I=[],S=0,T=d.recentActivity.length-1;T>=0&&(C.push(Object(O.a)(d.recentActivity[T])),I.push(d.platformInfo[T]),4!==++S);T--);if(null===d||void 0===d||null===(r=d.avatar)||void 0===r?void 0:r.data){var R=e.from(d.avatar.data);N=Object(f.a)(R)}return Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[d&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{style:{flexDirection:"column"},children:Object(x.jsx)(c.a,{children:Object(x.jsx)(i.a,Object(n.a)(Object(n.a)({borderRight:1,borderLeft:1,borderColor:"primary.main",style:{height:270,width:270}},v),{},{children:Object(x.jsxs)("div",{className:y.nameAndIcon,children:[N?Object(x.jsx)(s.a,{onClick:function(){return w(Object(m.a)(!0,"ModifyUserAvatar"))},src:N,className:y.avatar}):Object(x.jsx)(s.a,{onClick:function(){return w(Object(m.a)(!0,"ModifyUserAvatar"))},className:y.avatar,children:Object(x.jsx)(l.a,{style:{color:"#094ebd",width:120,height:120}})}),Object(x.jsxs)(a.a,{style:{marginLeft:5,textAlign:"center"},variant:"h6",children:[d.firstName," \xa0 ",d.lastName]})]})}))})}),Object(x.jsxs)("div",{style:{flexDirection:"column"},children:[Object(x.jsxs)(i.a,Object(n.a)(Object(n.a)({borderBottom:1,borderColor:"primary.main",style:{height:120,width:600}},v),{},{children:[Object(x.jsx)(k,{text:"K\xe4ytt\xe4j\xe4tiedot"}),Object(x.jsxs)(a.a,{variant:"subtitle1",children:["Email: ",d.email," ",Object(x.jsx)("br",{}),"Etunimi: ",d.firstName," ",Object(x.jsx)("br",{}),"Sukunimi: ",d.lastName,Object(x.jsx)(o.a,{onClick:function(){return w(Object(m.a)(!0,"ModifyUser"))},style:{position:"relative",left:10,marginTop:-10},children:Object(x.jsx)(u.a,{title:"Muokkaa k\xe4ytt\xe4j\xe4tietoja",children:Object(x.jsx)(j.a,{})})}),Object(x.jsx)("br",{})]})]})),Object(x.jsxs)(i.a,Object(n.a)(Object(n.a)({borderBottom:1,borderColor:"primary.main",style:{height:120,width:"100%"}},v),{},{children:[Object(x.jsx)(k,{style:{marginTop:15},text:"Viimeisimm\xe4t sis\xe4\xe4nkirjautumiset"}),C.map((function(e,t){return Object(x.jsxs)(a.a,{children:[e,": ",I[t]]},t)}))]}))]})]}),Object(x.jsx)(h.a,{}),Object(x.jsx)(p.a,{})]})}}).call(this,r(111).Buffer)},204:function(e,t,r){"use strict";(function(e){r(0);var n=r(6),a=r(129),c=r(150),i=r(215),s=r(34),o=r(151),u=r(214),d=r(102),l=r(372),j=r(373),b=r(100),m=r(101),h=r(16),p=r(22),O=r(70),f=r(1),x=Object(a.a)({container:{display:"flex",flexDirection:"row"},card:{width:380,maxHeight:140,marginBottom:15},details:{display:"flex",flexDirection:"column",height:120},content:{width:190,height:20,flex:"1 0 auto",backgroundColor:b.a[200]},info:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},image:{width:"100%"},contentAndImage:{display:"flex",maxHeight:120},deleteButton:{display:"flex",backgroundColor:m.a[400],justifyContent:"center"},iconButtons:{position:"relative",top:50}});t.a=function(t){var r,a=t.product,b=x(),m=Object(n.b)(),g=Object(n.c)((function(e){return e.shoppingCartReducer.cartId})),v=Object(n.c)((function(e){return e.userReducer.user}));r=v?v._id:"";var y;if(a.image){var w=e.from(a.image.data);y=Object(O.a)(w)}return Object(f.jsxs)("div",{className:b.container,children:[Object(f.jsxs)(c.a,{className:b.card,children:[Object(f.jsxs)("div",{className:b.contentAndImage,children:[Object(f.jsx)("div",{className:b.details,children:Object(f.jsxs)(i.a,{className:b.content,children:[Object(f.jsxs)(s.a,{className:b.info,component:"h6",variant:"h6",children:[a.name," x ",a.quantity.toString()]}),Object(f.jsx)(s.a,{className:b.info,variant:"subtitle1",color:"textSecondary",children:a.description}),Object(f.jsxs)(s.a,{variant:"subtitle1",color:"textSecondary",children:[a.price,"\u20ac"]})]})}),Object(f.jsx)(o.a,{className:b.image,image:y})]}),Object(f.jsx)("div",{children:Object(f.jsx)(u.a,{className:b.deleteButton,onClick:function(){return function(e){v?p.a.removeProductFromShoppingCart({cartId:g,userId:r,product:e}).then((function(){m(Object(h.f)(e,g))})):m(Object(h.f)(e,g))}(a)},children:"Remove item(s) from cart"})})]}),Object(f.jsxs)("div",{className:b.iconButtons,children:[Object(f.jsx)(d.a,{onClick:function(){return function(e){v?p.a.decreaseProductQuantity({cartId:g,userId:r,product:e}).then((function(){m(Object(h.d)(e,g))})):m(Object(h.d)(e,g))}(a)},children:Object(f.jsx)(l.a,{})}),Object(f.jsx)(d.a,{onClick:function(){return function(e){v?p.a.increaseProductQuantity({cartId:g,userId:r,product:e}).then((function(){m(Object(h.e)(e,g))})):m(Object(h.e)(e,g))}(a)},children:Object(f.jsx)(j.a,{style:{marginLeft:-10}})})]})]})}}).call(this,r(111).Buffer)},207:function(e,t,r){"use strict";var n=r(18),a=r(0),c=r(440),i=r(212),s=r(15),o=r(13),u=r(6),d=r(68),l=r(69),j=r(80),b=r(27),m=r(123),h=r(1),p=o.c().shape({name:o.d().required("Required"),description:o.d(),price:o.b().required("Required"),stock:o.b(),image:o.a()}),O=function(){var e=Object(a.useState)(),t=Object(n.a)(e,2),r=t[0],c=t[1],i=Object(a.useState)([]),o=Object(n.a)(i,2),O=(o[0],o[1]),f=Object(u.b)(),x=Object(u.c)((function(e){return e.activeProductReducer.product}));return x?Object(h.jsx)("div",{children:Object(h.jsx)(s.c,{initialValues:{name:x.name,description:x.description,price:x.price,stock:x.stock,image:"",tags:x.tags},validationSchema:p,onSubmit:function(e){var t=e.name,r=e.description,n=e.price,a=e.stock,c=e.image,i={name:t,description:r,price:n,stock:a,_id:x._id,ratings:x.ratings,image:x.image,tags:x.tags};d.a.modifyProduct(i,c).then((function(e){e||f(Object(b.b)("Unexpected error","error")),console.log("modify product response:",e),f(Object(j.a)(e)),f(Object(l.b)()),f(Object(b.b)("Product ".concat(i.name," modified"),"success"))}))},children:function(e){var t=e.errors,n=e.touched,a=e.setFieldValue,i=e.submitForm;return Object(h.jsx)(m.a,{errors:t,touched:n,setFieldValue:a,image:r,setImage:c,submitForm:i,tags:x.tags,setTags:O})}})}):Object(h.jsx)("div",{})},f=r(19),x=function(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}},g=Object(i.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{position:"absolute",width:650,height:550,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},header:{background:"linear-gradient(45deg, #124eb0 70%, #501573 90%)",border:0,borderRadius:30,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",textAlign:"center",height:30,marginTop:5,padding:"0 30px"}}})),v=function(){var e=g();return Object(h.jsx)("h2",{className:e.header,children:" Muokkaa tuotetta "})};t.a=function(){var e=g(),t=Object(a.useState)(x),r=Object(n.a)(t,1)[0],i=Object(u.c)((function(e){return e.modalReducer.modifyProductModal})),s=Object(u.b)();return Object(h.jsx)(c.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:i,onClose:function(){s(Object(f.a)(!i,"ModifyProduct"))},children:Object(h.jsxs)("div",{style:r,className:e.paper,children:[Object(h.jsx)(v,{}),Object(h.jsx)(O,{})]})})}},208:function(e,t,r){"use strict";var n=r(18),a=r(0),c=r(440),i=r(212),s=r(6),o=r(19),u=r(7),d=r(15),l=r(13),j=r(45),b=r(27),m=r(40),h=r(37),p=r(124),O=r(1),f=l.c().shape({userName:l.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),firstName:l.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),lastName:l.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:l.d(),email:l.d().email("Invalid email").required("Required")}),x=function(){Object(h.a)();var e=Object(s.b)(),t=Object(s.c)((function(e){return e.userReducer.user}));return t?Object(O.jsx)("div",{children:Object(O.jsx)(d.c,{initialValues:{userName:t.userName,firstName:t.firstName,lastName:t.lastName,password:"",email:t.email},validationSchema:f,onSubmit:function(r){var n={_id:t._id,userName:r.userName,firstName:r.firstName,lastName:r.lastName,password:r.password,email:r.email};console.log(n),j.a.modifyUser(n).then((function(r){r?(e(Object(o.a)(!1,"ModifyUser")),e(Object(m.a)(Object(u.a)(Object(u.a)({},n),{},{_id:t._id,userType:t.userType,token:t.token,recentActivity:t.recentActivity,platformInfo:t.platformInfo,avatar:r.avatar}))),window.localStorage.setItem("loggedUser",JSON.stringify(Object(u.a)(Object(u.a)({},n),{},{_id:t._id,userType:t.userType,token:t.token})))):e(Object(b.b)("User modification failed","error"))})).catch((function(e){return console.log(e)}))},children:function(e){var t=e.errors,r=e.touched;return Object(O.jsx)(p.a,{errors:t,touched:r})}})}):Object(O.jsx)("div",{})},g=function(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}},v=Object(i.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{position:"absolute",width:745,height:370,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},header:{background:"linear-gradient(45deg, #124eb0 70%, #501573 90%)",border:0,borderRadius:30,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",textAlign:"center",height:30,marginTop:5,padding:10,marginBottom:30}}})),y=function(){var e=v();return Object(O.jsx)("h2",{className:e.header,children:" Muokkaa k\xe4ytt\xe4j\xe4tietoja "})};t.a=function(){var e=v(),t=Object(a.useState)(g),r=Object(n.a)(t,1)[0],i=Object(s.c)((function(e){return e.modalReducer.modifyUserInfoModal})),u=Object(s.b)();return Object(O.jsx)(c.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:i,onClose:function(){u(Object(o.a)(!i,"ModifyUser"))},children:Object(O.jsxs)("div",{style:r,className:e.paper,children:[Object(O.jsx)(y,{}),Object(O.jsx)(x,{})]})})}},209:function(e,t,r){"use strict";var n=r(18),a=r(0),c=r(440),i=r(212),s=r(6),o=r(19),u=r(7),d=r(45),l=r(40),j=r(15),b=r(9),m=r(13),h=r(37),p=r(1),O=m.c().shape({image:m.a()}),f=function(){var e=Object(h.a)(),t=Object(a.useState)(),r=Object(n.a)(t,2),c=r[0],i=r[1],m=Object(s.c)((function(e){return e.userReducer.user})),f=m?m._id:"",x=Object(s.b)();return Object(p.jsx)("div",{children:Object(p.jsx)(j.c,{initialValues:{image:""},validationSchema:O,onSubmit:function(e){var t=e.image;d.a.modifyAvatar(t,f).then((function(e){e.avatar&&m&&(x(Object(l.a)(Object(u.a)(Object(u.a)({},m),{},{avatar:e.avatar}))),x(Object(o.a)(!1,"ModifyUserAvatar")))}))},children:function(t){var r=t.setFieldValue,n=t.submitForm;return Object(p.jsxs)(j.b,{children:[Object(p.jsxs)(b.a,{container:!0,spacing:1,children:[Object(p.jsxs)(b.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(p.jsx)(b.a,{item:!0,xs:2,children:Object(p.jsx)("label",{children:" Kuvake: "})}),Object(p.jsx)(b.a,{item:!0,xs:9,children:Object(p.jsx)(j.a,{className:e.field,type:"File",name:"image",value:void 0,style:{color:"rgba(0,0,0,0)"},onChange:function(e){r("image",e.currentTarget.files?e.currentTarget.files[0]:void 0),i(e.currentTarget.files?e.currentTarget.files[0]:void 0)}})}),Object(p.jsx)(b.a,{item:!0,xs:1,children:c&&Object(p.jsx)("button",{type:"button",onClick:function(){r("image",void 0),i(void 0)},children:"Cancel"})})]}),Object(p.jsxs)(b.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(p.jsx)(b.a,{item:!0,xs:2,children:Object(p.jsx)("label",{children:" Kuvakkeen esikatselu: "})}),Object(p.jsx)(b.a,{item:!0,xs:9,children:c?Object(p.jsx)("img",{height:100,width:100,src:URL.createObjectURL(c),alt:"Preview to upload"}):Object(p.jsx)("img",{height:100,width:100,src:"https://live.staticflickr.com/5217/5471047557_4dc13f5376_n.jpg",alt:"Preview to upload"})})]})]}),Object(p.jsx)("button",{className:e.button,onClick:n,type:"submit",children:"L\xe4het\xe4"})]})}})})},x=function(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}},g=Object(i.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{position:"absolute",width:650,height:300,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},header:{background:"linear-gradient(45deg, #124eb0 70%, #501573 90%)",border:0,borderRadius:30,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",textAlign:"center",height:30,marginTop:5,padding:10,marginBottom:30}}})),v=function(){var e=g();return Object(p.jsx)("h2",{className:e.header,children:" Vaihda kuvake "})};t.a=function(){var e=g(),t=Object(a.useState)(x),r=Object(n.a)(t,1)[0],i=Object(s.c)((function(e){return e.modalReducer})),u=Object(s.b)();return Object(p.jsx)(c.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:i.modifyUserAvatarModal,onClose:function(){u(Object(o.a)(!i.modifyUserAvatarModal,"ModifyUserAvatar"))},children:Object(p.jsxs)("div",{style:r,className:e.paper,children:[Object(p.jsx)(v,{}),Object(p.jsx)(f,{})]})})}},22:function(e,t,r){"use strict";var n=r(11),a=r.n(n),c=r(24),i=r(25),s=r.n(i),o="https://verkkis.herokuapp.com/api/shoppingCart",u=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post(o,t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat(o,"/").concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("".concat(o,"/").concat(t.cartId,"/addProduct"),t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.put("".concat(o,"/").concat(t.cartId,"/remove"),t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.put("".concat(o,"/").concat(t.cartId,"/increase"),t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.put("".concat(o,"/").concat(t.cartId,"/decrease"),t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.put("".concat(o,"/").concat(t,"/activity"),{data:r});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.put("".concat(o,"/").concat(t,"/completed"));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.delete("".concat(o,"/").concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.a={createNewShoppingCart:u,addProductToShoppingCart:l,increaseProductQuantity:b,decreaseProductQuantity:m,removeProductFromShoppingCart:j,getUsersShoppingCart:d,removeShoppingCart:O,setShoppingCartActivity:h,setShoppingCartCompleted:p}},27:function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return i}));var n=r(82),a=r(38),c=function(e,t){if(Object(a.e)(t)){var r={type:n.b,notificationType:t,data:e};return function(e){e(r)}}var c={type:n.b,notificationType:"error",data:e};return function(e){e(c)}},i=function(){var e={type:n.a,notificationType:"error",data:""};return function(t){t(e)}}},364:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(20),i=r.n(c),s=r(99),o=r(50),u=r(28),d=r(18),l=r(212),j=r(418),b=r(419),m=r(102),h=r(34),p=r(441),O=r(153),f=r(213),x=r(420),g=r(421),v=r(422),y=r(423),w=r(424),N=r(7),k=r(5),C=r(366),I=r(412),S=r(414),T=r(206),R=r(368),_=r(413),A=r(415),P=r(1),E=Object(k.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return Object(P.jsx)(T.a,Object(N.a)({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),U=Object(k.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(C.a),q=function(){var e=a.a.useState(null),t=Object(d.a)(e,2),r=t[0],n=t[1];return Object(P.jsxs)("div",{children:[Object(P.jsx)(m.a,{style:{color:"white"},onClick:function(e){n(e.currentTarget)},children:Object(P.jsx)(R.a,{style:{fontSize:30,marginTop:5}})}),Object(P.jsxs)(E,{id:"customized-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:function(){n(null)},children:[Object(P.jsx)(o.b,{to:"/account",style:{textDecoration:"none",color:"black"},children:Object(P.jsxs)(U,{children:[Object(P.jsx)(I.a,{children:Object(P.jsx)(_.a,{fontSize:"small"})}),Object(P.jsx)(S.a,{primary:"K\xe4ytt\xe4j\xe4tiedot"})]})}),Object(P.jsx)(o.b,{to:"/pastOrders",style:{textDecoration:"none",color:"black"},children:Object(P.jsxs)(U,{children:[Object(P.jsx)(I.a,{children:Object(P.jsx)(A.a,{fontSize:"small"})}),Object(P.jsx)(S.a,{primary:"Aikaisemmat tilaukset"})]})})]})]})},M=r(40),L=r(6),F=r(27),D=r(98),B=function(e){var t={type:D.a,data:e};return function(e){e(t)}},V=function(e){var t={type:D.b,data:e};return function(e){e(t)}},z=r(440),K=r(15),H=r(9),W=r(13),G=r(198),Q=r.n(G),J=r(128),Y=r.n(J),$=r(45),X=r(19),Z=r(16),ee=r(22),te=r(37),re=W.c().shape({userName:W.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:W.d().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),ne=function(){var e,t,r=Object(L.b)(),n=Object(L.c)((function(e){return e.shoppingCartReducer})),a=Object(te.a)(),c=function(e,t,r){var n="";return n+=e?e+" ":"unknown name ",n+=t?t+" ":"unknown os ",n+(r||"unknown version ")}(Y.a.name,null===(e=Y.a.os)||void 0===e?void 0:e.family,null===(t=Y.a.os)||void 0===t?void 0:t.version);return Object(P.jsx)("div",{children:Object(P.jsx)(K.c,{initialValues:{userName:"",password:""},validationSchema:re,onSubmit:function(e){$.a.signIn(e.userName,e.password,c).then((function(e){if(e.token){var t={_id:e._id,firstName:e.firstName,lastName:e.lastName,userName:e.userName,email:e.email,userType:e.userType,avatar:e.avatar,token:e.token,recentActivity:e.recentActivity,platformInfo:e.platformInfo,ratings:e.ratings},a=Object(N.a)(Object(N.a)({},t),{},{timestamp:new Date});window.localStorage.setItem("loggedUser",JSON.stringify(a)),r(Object(M.a)(t)),r(Object(X.a)(!1,"LogIn")),r(Object(F.b)("Kirjauduttu sis\xe4\xe4n: "+t.userName,"success")),ee.a.getUsersShoppingCart(t._id).then((function(e){e?function(e){0!==e.products.length?Q()({title:"Keskener\xe4inen ostoskori havaittu",text:"Keskener\xe4inen ostoskori l\xf6ydetty, haluatko jatkaa siit\xe4 mihin j\xe4it viime kerralla vai luodaanko uusi? Vanha ostoskori poistetaan kokonaan mik\xe4li halutaan luoda uusi",icon:"info",buttons:["Luo uusi!","Jatketaan edellist\xe4!"]}).then((function(t){t?(r(Object(Z.g)(e.id,e.products)),ee.a.setShoppingCartActivity(e.id,!0)):ee.a.createNewShoppingCart({products:n.cart,user:e.user,id:""}).then((function(t){ee.a.removeShoppingCart(e.user).then((function(){console.log("removed shopping cart")})),r(Object(Z.c)(t.id))}))})):r(Object(Z.g)(e.id,e.products))}(e):ee.a.createNewShoppingCart({products:n.cart,user:t._id,id:""}).then((function(e){r(Object(Z.c)(e.id))}))}))}else r(Object(F.b)("Virheellinen k\xe4ytt\xe4j\xe4nimi / salasana","error"))}))},children:function(e){var t=e.errors,r=e.touched;return Object(P.jsxs)(K.b,{children:[Object(P.jsxs)(H.a,{container:!0,spacing:1,children:[Object(P.jsxs)(H.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(P.jsx)(H.a,{item:!0,xs:3,children:Object(P.jsx)("label",{children:"K\xe4ytt\xe4j\xe4nimi: "})}),Object(P.jsx)(H.a,{item:!0,xs:8,children:Object(P.jsx)(K.a,{className:a.field,placeholder:"K\xe4ytt\xe4j\xe4nimi",type:"text",name:"userName"})}),Object(P.jsx)(H.a,{item:!0,xs:1,children:t.userName&&r.userName&&Object(P.jsx)("div",{children:t.userName})})]}),Object(P.jsxs)(H.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(P.jsx)(H.a,{item:!0,xs:3,children:Object(P.jsx)("label",{children:"Salasana: "})}),Object(P.jsx)(H.a,{item:!0,xs:8,children:Object(P.jsx)(K.a,{className:a.field,placeholder:"Salasana",type:"password",name:"password"})}),Object(P.jsx)(H.a,{item:!0,xs:1,children:t.password&&r.password&&Object(P.jsx)("div",{children:t.password})})]})]}),Object(P.jsx)("button",{className:a.button,type:"submit",children:"Submit"})]})}})})},ae=function(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}},ce=Object(l.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{position:"absolute",width:450,height:190,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},header:{background:"linear-gradient(45deg, #124eb0 70%, #501573 90%)",border:0,borderRadius:30,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",textAlign:"center",height:30,marginTop:5,padding:"0 30px"}}})),ie=function(){var e=ce();return Object(P.jsx)("h2",{className:e.header,children:" Kirjaudu sis\xe4\xe4n "})},se=function(){var e=ce(),t=Object(n.useState)(ae),r=Object(d.a)(t,1)[0],a=Object(L.c)((function(e){return e.modalReducer.logInModal})),c=Object(L.b)();return Object(P.jsx)(z.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:a,onClose:function(){c(Object(X.a)(!a,"LogIn"))},children:Object(P.jsxs)("div",{style:r,className:e.paper,children:[Object(P.jsx)(ie,{}),Object(P.jsx)(ne,{})]})})},oe=r(68),ue=r(69),de=r(123),le=W.c().shape({name:W.d().required("Required"),description:W.d(),price:W.b().required("Required"),stock:W.b(),image:W.a()}),je=function(){var e=Object(n.useState)(),t=Object(d.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)([]),i=Object(d.a)(c,2),s=i[0],o=i[1],u=Object(L.b)();return Object(P.jsx)("div",{children:Object(P.jsx)(K.c,{initialValues:{name:"",description:"",price:0,stock:0,image:""},validationSchema:le,onSubmit:function(e){var t=e.name,r=e.description,n=e.price,a=e.stock,c=e.image,i={name:t,description:r,price:n,stock:a,ratings:[],tags:s};oe.a.addProduct(i,c).then((function(e){if(null!==e){var t={name:e.name,description:e.description,price:e.price,stock:e.stock,image:e.image,ratings:e.ratings,tags:[],_id:e._id};u(Object(ue.a)(t)),u(Object(F.b)("Product ".concat(i.name," added"),"success"))}}))},children:function(e){var t=e.errors,n=e.touched,c=e.setFieldValue,i=e.submitForm;return Object(P.jsx)(de.a,{errors:t,touched:n,setFieldValue:c,image:r,setImage:a,submitForm:i,tags:s,setTags:o})}})})},be=function(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}},me=Object(l.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{position:"absolute",width:650,height:550,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},header:{background:"linear-gradient(45deg, #124eb0 70%, #501573 90%)",border:0,borderRadius:30,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",textAlign:"center",height:30,marginTop:5,padding:"0 30px"}}})),he=function(){var e=me();return Object(P.jsx)("h2",{className:e.header,children:" Lis\xe4\xe4 uusi tuote "})},pe=function(){var e=me(),t=Object(n.useState)(be),r=Object(d.a)(t,1)[0],a=Object(L.c)((function(e){return e.modalReducer.addProductModal})),c=Object(L.b)();return Object(P.jsx)(z.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:a,onClose:function(){c(Object(X.a)(!a,"AddProduct"))},children:Object(P.jsxs)("div",{style:r,className:e.paper,children:[Object(P.jsx)(he,{}),Object(P.jsx)(je,{})]})})},Oe=r(124),fe=W.c().shape({userName:W.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),firstName:W.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),lastName:W.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:W.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),email:W.d().email("Invalid email").required("Required")}),xe=function(){Object(te.a)();var e=Object(L.b)();return Object(P.jsx)("div",{children:Object(P.jsx)(K.c,{initialValues:{userName:"",firstName:"",lastName:"",password:"",email:""},validationSchema:fe,onSubmit:function(t){var r={userName:t.userName,firstName:t.firstName,lastName:t.lastName,password:t.password,email:t.email,userType:"User"};$.a.createUser(r).then((function(t){t?(e(Object(X.a)(!1,"CreateUser")),e(Object(F.b)("Created user: "+r.userName,"success"))):e(Object(F.b)("User creation failed","error"))})).catch((function(e){return console.log(e)}))},children:function(e){var t=e.errors,r=e.touched;return Object(P.jsx)(Oe.a,{errors:t,touched:r})}})})},ge=function(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}},ve=Object(l.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{position:"absolute",width:745,height:370,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},header:{background:"linear-gradient(45deg, #124eb0 70%, #501573 90%)",border:0,borderRadius:30,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",textAlign:"center",height:30,marginTop:5,padding:10,marginBottom:30}}})),ye=function(){var e=ve();return Object(P.jsx)("h2",{className:e.header,children:" Luo k\xe4ytt\xe4j\xe4tili "})},we=function(){var e=ve(),t=Object(n.useState)(ge),r=Object(d.a)(t,1)[0],a=Object(L.b)(),c=Object(L.c)((function(e){return e.modalReducer.createUserModal}));return Object(P.jsx)(z.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:c,onClose:function(){a(Object(X.a)(!1,"CreateUser"))},children:Object(P.jsxs)("div",{style:r,className:e.paper,children:[Object(P.jsx)(ye,{}),Object(P.jsx)(xe,{})]})})},Ne=Object(l.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{marginRight:e.spacing(10)},buttons:{display:"flex",marginLeft:"auto",marginRight:-12,fontSize:15},login:{margin:e.spacing(2),fontSize:15,flexDirection:"column"},addProductIcon:{height:30,width:30},whiteIcon:{color:"white",fontSize:30},searchIcon:{color:"white"}}})),ke=function(e){var t=e.user,r=Object(n.useState)(""),a=Object(d.a)(r,2),c=a[0],i=a[1],s=Object(n.useState)(""),l=Object(d.a)(s,2),N=l[0],k=l[1],C=!!t;Object(n.useEffect)((function(){C&&k("")}),[t]);var I=Ne(),S=Object(L.b)(),T=Object(L.c)((function(e){return e.shoppingCartReducer.cartId}));return Object(P.jsxs)("div",{children:[N&&Object(P.jsx)(u.a,{to:N}),Object(P.jsxs)(j.a,{position:"static",color:"primary",children:[Object(P.jsxs)(b.a,{children:[Object(P.jsx)(o.b,{to:"/",children:Object(P.jsx)(m.a,{edge:"start",className:I.menuButton,color:"inherit","aria-label":"menu",children:Object(P.jsx)(x.a,{})})}),Object(P.jsx)(h.a,{variant:"h6",className:I.title,children:"Verkkokauppa"}),Object(P.jsx)(p.a,{placeholder:"Etsi tuotteita",onChange:function(e){e.preventDefault(),i(e.target.value)},style:{backgroundColor:"#dae1f0"},size:"small",variant:"outlined",value:c}),Object(P.jsx)(m.a,{onClick:function(){S(B(c))},children:Object(P.jsx)(g.a,{className:I.searchIcon})}),Object(P.jsx)(m.a,{onClick:function(){return i(""),void S(B(""))},children:Object(P.jsx)(O.a,{title:"Tyhjenn\xe4 hakukentt\xe4",children:Object(P.jsx)(v.a,{className:I.searchIcon})})}),Object(P.jsxs)("div",{className:I.buttons,children:["Admin"===(null===t||void 0===t?void 0:t.userType)&&Object(P.jsx)(m.a,{onClick:function(){return S(Object(X.a)(!0,"AddProduct"))},color:"inherit",children:Object(P.jsx)(O.a,{title:"Lis\xe4\xe4 tuote",children:Object(P.jsx)(y.a,{className:I.addProductIcon})})}),Object(P.jsx)("div",{children:Object(P.jsx)(f.a,{onClick:function(){return C?(ee.a.setShoppingCartActivity(T,!1),S(Object(M.a)()),S(Object(Z.b)()),S(Object(F.b)("Have a nice day","success")),window.localStorage.removeItem("loggedUser"),void k("/")):S(Object(X.a)(!0,"LogIn"))},color:"inherit",children:Object(P.jsx)(h.a,{variant:"h6",className:I.login,children:C?"Kirjaudu ulos":"Kirjaudu sis\xe4\xe4n"})})}),!t&&Object(P.jsx)("div",{children:Object(P.jsx)(f.a,{onClick:function(){return S(Object(X.a)(!0,"CreateUser"))},color:"inherit",children:Object(P.jsx)(h.a,{variant:"h6",className:I.login,children:"Luo k\xe4ytt\xe4j\xe4tili"})})}),Object(P.jsx)("div",{children:Object(P.jsx)(o.b,{to:"/shoppingCart",children:Object(P.jsx)(m.a,{className:I.whiteIcon,children:Object(P.jsx)(w.a,{style:{fontSize:30,marginTop:5}})})})}),t&&Object(P.jsx)("div",{children:Object(P.jsx)(q,{})})]})]}),Object(P.jsx)(se,{}),Object(P.jsx)(pe,{}),Object(P.jsx)(we,{})]})]})},Ce=r(149),Ie=Object(l.a)({root:{position:"relative",display:"flex",paddingLeft:15,maxWidth:1200}}),Se=function(){var e=Ie(),t=Object(L.c)((function(e){return e.productReducer.products})),r=Object(L.c)((function(e){return e.filterReducer}));if(0===t.length)return null;var n=function(e){return Object(P.jsx)(H.a,{style:{marginTop:10},item:!0,xs:12},e)},a=0===r.productFilter.length?t:t.filter((function(e){return e.name.toLowerCase().includes(r.productFilter.toLowerCase())})),c=r.tagFilter?a.filter((function(e){if(r.tagFilter&&e.tags.includes(r.tagFilter))return e})):a;return 0===c.length?Object(P.jsx)("div",{children:Object(P.jsx)(h.a,{variant:"h5",children:" No results with current filter "})}):Object(P.jsx)(H.a,{container:!0,className:e.root,children:c.map((function(e,t){return t%5===0?Object(P.jsxs)(P.Fragment,{children:[" ",n(t)," ",Object(P.jsx)(Ce.a,{product:e},e._id)," "]}):Object(P.jsx)(Ce.a,{product:e},e._id)}))})},Te=r(201),Re=r(203),_e=r(129),Ae=r(427),Pe=r(428),Ee=r(125),Ue=r(100),qe=r(127),Me=r(425),Le=r(426),Fe=r(429),De=r(63),Be=r(430),Ve=r(431),ze=r(432),Ke=r(433),He=r(211),We=Object(_e.a)({root:{backgroundColor:Ue.a[300],"& > *":{borderBottom:"unset"}},header:{backgroundColor:"#3f51b5"},mainRow:{backgroundColor:qe.a[200]},row:{"&:hover":{backgroundColor:qe.a[200]}},body:{backgroundColor:Ue.a[200]}}),Ge=function(e){var t=e.order,r=Object(n.useState)(),a=Object(d.a)(r,2),c=a[0],i=a[1],s=We();return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(Me.a,{className:"".concat(s.root),children:[Object(P.jsx)(Le.a,{children:Object(P.jsx)(m.a,{size:"small",onClick:function(){return i(!c)},children:c?Object(P.jsx)(Ae.a,{}):Object(P.jsx)(Pe.a,{})})}),Object(P.jsxs)(Le.a,{component:"th",scope:"row",children:[" ",Object(Ee.a)(t.completionDate)," "]}),Object(P.jsx)(Le.a,{}),Object(P.jsx)(Le.a,{}),Object(P.jsx)(Le.a,{}),Object(P.jsx)(Le.a,{})]}),Object(P.jsx)(Me.a,{children:Object(P.jsx)(Le.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(P.jsx)(Fe.a,{in:c,timeout:"auto",unmountOnExit:!0,children:Object(P.jsxs)(De.a,{margin:1,children:[Object(P.jsxs)(h.a,{variant:"h6",gutterBottom:!0,component:"div",children:["Tilauksen kokonaishinta: \xa0 ",t.products.reduce((function(e,t){return e+t.price*t.quantity}),0)]}),Object(P.jsxs)(Be.a,{size:"small","aria-label":"purchases",children:[Object(P.jsx)(Ve.a,{children:Object(P.jsxs)(Me.a,{className:s.body,children:[Object(P.jsx)(Le.a,{children:"Nimi"}),Object(P.jsx)(Le.a,{children:"Hinta"}),Object(P.jsx)(Le.a,{align:"right",children:"M\xe4\xe4r\xe4"}),Object(P.jsx)(Le.a,{align:"right",children:"Hinta yhteens\xe4"})]})}),Object(P.jsx)(ze.a,{className:s.body,children:t.products.map((function(e){return Object(P.jsxs)(Me.a,{className:s.row,children:[Object(P.jsx)(Le.a,{component:"th",scope:"row",children:e.name}),Object(P.jsx)(Le.a,{children:e.price}),Object(P.jsx)(Le.a,{align:"right",children:e.quantity}),Object(P.jsx)(Le.a,{align:"right",children:Math.round(e.quantity*e.price*100)/100})]},e._id)}))})]})]})})})})]})},Qe=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),r=t[0],a=t[1],c=function(e){return e.sort((function(e,t){return new Date(t.completionDate).getTime()-new Date(e.completionDate).getTime()}))}(r),i=We(),s=Object(L.c)((function(e){return e.userReducer.user}));return s?(Object(n.useEffect)((function(){$.a.getUsersCompletedShoppingcarts(s._id).then((function(e){a(e)}))}),[]),Object(P.jsx)(Ke.a,{component:He.a,children:Object(P.jsxs)(Be.a,{"aria-label":"collapsible table",children:[Object(P.jsx)(Ve.a,{children:Object(P.jsxs)(Me.a,{className:i.header,children:[Object(P.jsx)(Le.a,{}),Object(P.jsx)(Le.a,{style:{color:"white"},children:"Tilauksen p\xe4iv\xe4m\xe4\xe4r\xe4"}),Object(P.jsx)(Le.a,{align:"left"}),Object(P.jsx)(Le.a,{align:"right"}),Object(P.jsx)(Le.a,{align:"right"}),Object(P.jsx)(Le.a,{align:"right"})]})}),Object(P.jsx)(ze.a,{className:i.body,children:c.map((function(e){return Object(P.jsx)(Ge,{order:e},e.id)}))})]})})):Object(P.jsx)("div",{})},Je=r(371),Ye=r(38),$e=W.c().shape({firstName:W.d().required("Required"),lastName:W.d().required("Required"),address:W.d().required("Required")}),Xe=function(){var e=Object(L.b)(),t=Object(te.a)(),r=Object(L.c)((function(e){return e.userReducer.user})),n=Object(L.c)((function(e){return e.shoppingCartReducer}));return Object(P.jsx)("div",{children:Object(P.jsx)(K.c,{initialValues:{firstName:r?r.firstName:"",lastName:r?r.lastName:"",address:""},validationSchema:$e,onSubmit:function(t){t.firstName,t.lastName;var a=t.address;Object(Ye.i)(r)&&ee.a.setShoppingCartCompleted(n.cartId).then((function(t){t?(e(Object(Z.b)()),e(Object(F.b)("L\xe4hetet\xe4\xe4n tilaus osoitteeseen: "+a,"success"))):e(Object(F.b)("Unexpected error","error"))}))},children:function(e){var n=e.errors,a=e.touched;return Object(P.jsxs)(K.b,{children:[Object(P.jsxs)(H.a,{container:!0,spacing:1,children:[Object(P.jsxs)(H.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(P.jsx)(H.a,{item:!0,xs:2,children:Object(P.jsxs)("label",{style:{fontSize:15},children:["Etunimi ",Object(P.jsx)("b",{style:{color:"red"},children:"*"})," "]})}),Object(P.jsx)(H.a,{item:!0,xs:9,children:Object(P.jsx)(K.a,{className:t.field,placeholder:"Etunimi",type:"text",name:"firstName"})}),Object(P.jsx)(H.a,{item:!0,xs:1,children:n.firstName&&a.firstName&&Object(P.jsx)("div",{children:n.firstName})})]}),Object(P.jsxs)(H.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(P.jsx)(H.a,{item:!0,xs:2,children:Object(P.jsxs)("label",{style:{fontSize:15},children:["Sukunimi ",Object(P.jsx)("b",{style:{color:"red"},children:"*"})," "]})}),Object(P.jsx)(H.a,{item:!0,xs:9,children:Object(P.jsx)(K.a,{className:t.field,placeholder:"Sukunimi",type:"text",name:"lastName"})}),Object(P.jsx)(H.a,{item:!0,xs:1,children:n.lastName&&a.lastName&&Object(P.jsx)("div",{children:n.lastName})})]}),Object(P.jsxs)(H.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(P.jsx)(H.a,{item:!0,xs:2,children:Object(P.jsxs)("label",{style:{fontSize:15},children:["Osoite ",Object(P.jsx)("b",{style:{color:"red"},children:"*"})," "]})}),Object(P.jsx)(H.a,{item:!0,xs:9,children:Object(P.jsx)(K.a,{className:t.field,placeholder:"Osoite",type:"text",name:"address"})}),Object(P.jsx)(H.a,{item:!0,xs:1,children:n.address&&a.address&&Object(P.jsx)("div",{children:n.address})})]})]}),Object(P.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(P.jsx)("button",{disabled:!r,className:t.button,style:{left:"0%"},type:"submit",children:" L\xe4het\xe4 "}),!r&&Object(P.jsx)(h.a,{variant:"subtitle1",className:t.logInText,children:" Kirjaudu sis\xe4\xe4n ensiksi "})]})]})}})})},Ze=r(204),et=Object(_e.a)({box:{maxHeight:350},shoppingCartAndFormBox:{margin:25,marginLeft:-10,height:300,borderRadius:15},cart:{margin:25,borderRadius:15,height:300},container:{marginTop:15},deleteIcon:{position:"relative",top:-15},form:{borderWidth:1,marginTop:75,padding:10},empty:{position:"relative",top:"50%",left:"25%"}}),tt=function(){var e=et(),t=Object(L.b)(),r=Object(L.c)((function(e){return e.shoppingCartReducer.cart})),n=Object(L.c)((function(e){return e.userReducer.user})),a=(null===n||void 0===n?void 0:n._id)||"",c=Object(L.c)((function(e){return e.shoppingCartReducer.cartId}));return Object(P.jsx)(De.a,{className:e.box,border:1,children:Object(P.jsxs)(H.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(P.jsx)(H.a,{item:!0,xs:6,children:Object(P.jsx)(De.a,{border:1,className:e.cart,children:0===r.length?Object(P.jsx)(h.a,{variant:"h5",className:e.empty,children:" Ostoskorisi on tyhj\xe4 "}):Object(P.jsxs)("div",{style:{height:300,overflow:"auto"},children:[r.map((function(r){if(r.quantity>0)return Object(P.jsx)(Je.a,{className:e.container,maxWidth:"sm",children:Object(P.jsx)(Ze.a,{product:r},r._id)},r._id);!function(e){n?ee.a.removeProductFromShoppingCart({cartId:c,userId:a,product:e}).then((function(){t(Object(Z.f)(e,c))})).catch((function(e){return console.log(e)})):t(Object(Z.f)(e,c))}(r)})),Object(P.jsxs)(h.a,{variant:"h5",style:{marginLeft:20},children:["Kokonaishinta: ",r.reduce((function(e,t){return e+t.price*t.quantity}),0),"\u20ac"]})]})})}),Object(P.jsx)(H.a,{item:!0,xs:6,children:Object(P.jsx)(De.a,{border:1,className:e.shoppingCartAndFormBox,children:Object(P.jsx)("div",{className:e.form,children:Object(P.jsx)(Xe,{})})})})]})})},rt=r(439),nt=function(e){var t=e.type,r=e.message;switch(t){case"success":return Object(P.jsxs)(rt.a,{elevation:6,variant:"filled",severity:"success",children:[" ",r," "]});case"error":return Object(P.jsxs)(rt.a,{elevation:6,variant:"filled",severity:"error",children:[" ",r," "]});default:return Object(P.jsxs)(rt.a,{elevation:6,variant:"filled",severity:"info",children:[" ",r," "]})}},at=Object(l.a)({root:{width:"15%",position:"relative",marginBottom:15,left:15}}),ct=function(e){var t=e.type,r=e.message,n=e.tts,a=void 0===n?5e3:n,c=at(),i=Object(L.b)();return setTimeout((function(){return i(Object(F.a)())}),a),Object(P.jsx)("div",{className:c.root,children:Object(P.jsx)(nt,{type:t,message:r})})},it=r(442),st=r(411),ot=r(367),ut=r(434),dt=r(435),lt=r(436),jt=r(437),bt=r(438),mt=Object(l.a)(Object(it.a)({container:{position:"relative"},appMenu:{width:"100%"},menuItem:{height:70,width:240},menuIcon:{color:"#3f51b5"}})),ht=function(){var e=mt(),t=Object(L.b)();Object(L.c)((function(e){return e.filterReducer.tagFilter}));return Object(P.jsx)("div",{className:e.container,children:Object(P.jsx)(o.b,{to:"/",style:{textDecoration:"none",color:"rgb(0,0,0)"},children:Object(P.jsxs)(st.a,{className:e.appMenu,disablePadding:!0,children:[Object(P.jsxs)(ot.a,{onClick:function(){return t(V())},divider:!0,button:!0,className:e.menuItem,children:[Object(P.jsx)(I.a,{className:e.menuIcon,children:Object(P.jsx)(ut.a,{})}),Object(P.jsx)(S.a,{primary:"All"})]}),Object(P.jsxs)(ot.a,{onClick:function(){return t(V("Kirves"))},divider:!0,button:!0,className:e.menuItem,children:[Object(P.jsx)(I.a,{className:e.menuIcon,children:Object(P.jsx)(dt.a,{})}),Object(P.jsx)(S.a,{primary:"Kirves"})]}),Object(P.jsxs)(ot.a,{onClick:function(){return t(V("Ruoka/Juoma"))},divider:!0,button:!0,className:e.menuItem,children:[Object(P.jsx)(I.a,{className:e.menuIcon,children:Object(P.jsx)(lt.a,{})}),Object(P.jsx)(S.a,{primary:"Ruoka/Juoma"})]}),Object(P.jsxs)(ot.a,{onClick:function(){return t(V("Mokki Essential"))},divider:!0,button:!0,className:e.menuItem,children:[Object(P.jsx)(I.a,{className:e.menuIcon,children:Object(P.jsx)(jt.a,{})}),Object(P.jsx)(S.a,{primary:"Mokki Essential"})]}),Object(P.jsxs)(ot.a,{onClick:function(){return t(V("muut"))},divider:!0,button:!0,className:e.menuItem,children:[Object(P.jsx)(I.a,{className:e.menuIcon,children:Object(P.jsx)(bt.a,{})}),Object(P.jsx)(S.a,{primary:"Muut"})]})]})})})},pt=function(){var e=Object(L.b)(),t=Object(L.c)((function(e){return e.userReducer.user})),r=Object(L.c)((function(e){return e.notificationReducer})),a=Object(L.c)((function(e){return e.shoppingCartReducer}));return Object(n.useEffect)((function(){e(Object(ue.b)())}),[]),Object(n.useEffect)((function(){var t=window.localStorage.getItem("loggedUser");if(t){var r=Object(Ye.g)(Ye.c)(t);if(r.hasError)console.log("error at parsed user");else if(function(e){var t=new Date(e);return(new Date).getHours()-t.getHours()<1}(r.parsed.timestamp))e(Object(M.a)(r.parsed)),ee.a.getUsersShoppingCart(r.parsed._id).then((function(t){t?e(Object(Z.g)(t.id,t.products)):ee.a.createNewShoppingCart({products:a.cart,user:r.parsed._id,id:a.cartId}).then((function(t){e(Object(Z.c)(t.id))}))}));else ee.a.setShoppingCartActivity(a.cartId,!1),e(Object(M.a)()),e(Object(Z.b)()),window.localStorage.removeItem("loggedUser")}}),[]),Object(P.jsx)("div",{children:Object(P.jsxs)(o.a,{children:[Object(P.jsx)(ke,{user:t}),Object(P.jsx)("br",{}),r.visible&&Object(P.jsx)("div",{children:Object(P.jsx)(ct,{type:r.type,message:r.message})}),Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(P.jsx)(ht,{}),Object(P.jsx)(u.d,{children:Object(P.jsx)(u.b,{path:"/account",render:function(){return Object(P.jsx)(Re.a,{user:t})}})}),Object(P.jsx)(u.d,{children:Object(P.jsx)(u.b,{path:"/pastOrders",render:function(){return Object(P.jsx)(Qe,{})}})}),Object(P.jsx)(u.d,{children:Object(P.jsx)(u.b,{path:"/shoppingCart",render:function(){return Object(P.jsx)(tt,{})}})}),Object(P.jsx)(u.d,{children:Object(P.jsx)(u.b,{path:"/product",render:function(){return Object(P.jsx)(Te.a,{})}})}),Object(P.jsx)(u.d,{children:Object(P.jsx)(u.b,{exact:!0,path:"/",render:function(){return Object(P.jsx)(Se,{})}})})]})]})})};i.a.render(Object(P.jsx)(s.a,{store:L.a,children:Object(P.jsx)(pt,{})}),document.getElementById("root"))},37:function(e,t,r){"use strict";var n=r(129),a=Object(n.a)({field:{padding:5,borderColor:"#124eb0",position:"relative",marginBottom:10,width:"90%",maxWidth:700},button:{display:"inline-flex",alignItems:"center",position:"relative",padding:20,paddingRight:75,marginTop:10,left:"38%",transform:"translate(-50%, -$50%)",borderWidth:3,borderRadius:35,width:92,height:20,opacity:.95,backgroundColor:"#124eb0",fontSize:16,fontStyle:"bold",color:"white"},logInText:{position:"relative",marginLeft:20,marginTop:20}});t.a=a},38:function(e,t,r){"use strict";r.d(t,"h",(function(){return n})),r.d(t,"e",(function(){return a})),r.d(t,"i",(function(){return c})),r.d(t,"a",(function(){return i})),r.d(t,"d",(function(){return s})),r.d(t,"f",(function(){return o})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return d})),r.d(t,"g",(function(){return l}));var n=function(e){return"SET_TAG"===e.type},a=function(e){return"error"===e||"info"===e||"success"===e},c=function(e){return!!e},i=function(e){return"INCREASE_QUANTITY"===e.type||"DECREASE_QUANTITY"===e.type||"REMOVE_PRODUCT_FROM_CART"===e.type},s=function(e){return"CREATE_NEW_SHOPPING_CART"===e.type},o=function(e){return"RETRIEVE_OLD_SHOPPING_CART"===e.type},u=function(e){return"CLEAR_SHOPPINGCART"===e.type},d=function(e){return"firstName"in e&&"lastName"in e&&"userName"in e&&"_id"in e&&"userType"in e&&"token"in e&&"timestamp"in e},l=function(e){return function(t){var r=JSON.parse(t);return e(r)?{parsed:r,hasError:!1}:{hasError:!0}}}},40:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(118),a=function(e){var t={type:n.a,data:e};return function(e){e(t)}}},43:function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"e",(function(){return c})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return s})),r.d(t,"f",(function(){return o}));var n="INCREASE_QUANTITY",a="DECREASE_QUANTITY",c="REMOVE_PRODUCT_FROM_CART",i="CLEAR_SHOPPINGCART",s="CREATE_NEW_SHOPPING_CART",o="RETRIEVE_OLD_SHOPPING_CART"},45:function(e,t,r){"use strict";var n=r(11),a=r.n(n),c=r(24),i=r(25),s=r.n(i),o="https://verkkis.herokuapp.com/api",u=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("".concat(o,"/login"),{username:t,password:r,platformInfo:n});case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("".concat(o,"/users"),t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.put("".concat(o,"/users/"),t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("image",t,t.name),c={headers:{"Content-Type":"multipart/form-data"}},e.next=5,s.a.put("".concat(o,"/users/").concat(r,"/image"),n,c);case 5:return i=e.sent,e.abrupt("return",i.data);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat(o,"/users/").concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.put("".concat(o,"/users/").concat(t),{productId:r,value:n});case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();t.a={signIn:u,createUser:d,modifyUser:l,getUsersCompletedShoppingcarts:b,addRatingForProduct:m,modifyAvatar:j}},6:function(e,t,r){"use strict";r.d(t,"b",(function(){return A})),r.d(t,"c",(function(){return P}));var n=r(205),a=r(41),c=r(99),i=r(7),s=r(73),o={products:[]},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.b:return Object(i.a)(Object(i.a)({},e),{},{products:t.data});case s.a:return Object(i.a)(Object(i.a)({},e),{},{products:e.products.concat(t.data)});case s.c:return Object(i.a)(Object(i.a)({},e),{},{products:e.products.filter((function(e){return e!==t.data}))})}return e},d=r(118),l={user:void 0},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.a:return Object(i.a)(Object(i.a)({},e),{},{user:t.data})}return e},b=r(82),m={message:"",type:"error",visible:!1},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.b:return Object(i.a)(Object(i.a)({},e),{},{message:t.data,type:t.notificationType,visible:!0});case b.a:return Object(i.a)(Object(i.a)({},e),{},{message:"",type:t.notificationType,visible:!1})}return e},p=r(43),O=r(38),f={cartId:"",cart:[]},x=function(e,t){var r=t.find((function(t){return t._id===e._id}));return r?(e.quantity=r.quantity+1,e):e},g=function(e,t){var r=t.find((function(t){return t._id===e._id}));return r?(e.quantity=r.quantity-1,e):e},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;if(Object(O.a)(t))switch(t.type){case p.d:if(!e.cart.some((function(e){return e._id===t.data._id})))return Object(i.a)(Object(i.a)({},e),{},{cartId:t.cartId,cart:e.cart.concat(t.data)});var r=x(t.data,e.cart);return Object(i.a)(Object(i.a)({},e),{},{cartId:t.cartId,cart:e.cart.map((function(e){return e._id===r._id?r:e}))});case p.c:var n=g(t.data,e.cart);return Object(i.a)(Object(i.a)({},e),{},{cartId:t.cartId,cart:e.cart.map((function(e){return e._id===n._id?n:e}))});case p.e:return Object(i.a)(Object(i.a)({},e),{},{cartId:t.cartId,cart:e.cart.filter((function(e){return e._id!==t.data._id}))})}if(Object(O.f)(t))return{cartId:t.cartId,cart:t.data};if(Object(O.d)(t))switch(t.type){case p.b:return Object(i.a)(Object(i.a)({},e),{},{cartId:t.cartId,cart:e.cart})}return Object(O.b)(t)?Object(i.a)(Object(i.a)({},e),{},{cartId:"",cart:[]}):e},y={createUserModal:!1,logInModal:!1,addProductModal:!1,modifyUserInfoModal:!1,modifyProductModal:!1,modifyUserAvatarModal:!1},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.modal){case"AddProduct":return Object(i.a)(Object(i.a)({},e),{},{addProductModal:t.data});case"CreateUser":return Object(i.a)(Object(i.a)({},e),{},{createUserModal:t.data});case"LogIn":return Object(i.a)(Object(i.a)({},e),{},{logInModal:t.data});case"ModifyUser":return Object(i.a)(Object(i.a)({},e),{},{modifyUserInfoModal:t.data});case"ModifyProduct":return Object(i.a)(Object(i.a)({},e),{},{modifyProductModal:t.data});case"ModifyUserAvatar":return Object(i.a)(Object(i.a)({},e),{},{modifyUserAvatarModal:t.data});default:return e}},N=r(98),k={productFilter:"",tagFilter:void 0},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;if(Object(O.h)(t))return Object(i.a)(Object(i.a)({},e),{},{tagFilter:t.data});switch(t.type){case N.a:return Object(i.a)(Object(i.a)({},e),{},{productFilter:t.data})}return e},I=r(119),S={product:void 0},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.a:return{product:t.data}}return e},R=Object(a.c)({productReducer:u,userReducer:j,notificationReducer:h,shoppingCartReducer:v,modalReducer:w,filterReducer:C,activeProductReducer:T}),_=Object(n.a)({reducer:R}),A=function(){return Object(c.b)()},P=c.c;t.a=_},68:function(e,t,r){"use strict";var n=r(11),a=r.n(n),c=r(24),i=r(25),s=r.n(i),o="https://verkkis.herokuapp.com/api/products",u=function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("".concat(o),t);case 2:if(n=e.sent,!r||null===n.data){e.next=6;break}return c=d(n.data._id,r),e.abrupt("return",c);case 6:return e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("image",r,r.name),c={headers:{"Content-Type":"multipart/form-data"}},e.next=5,s.a.put("".concat(o,"/").concat(t),n,c);case 5:return i=e.sent,e.abrupt("return",i.data);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.put("".concat(o),t);case 2:if(null===(n=e.sent).data||!r){e.next=6;break}return c=d(t._id,r),e.abrupt("return",c);case 6:return e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.delete("".concat(o,"/").concat(t._id));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.a={getAll:function(){return s.a.get("".concat(o)).then((function(e){return e.data}))},addProduct:u,deleteProduct:j,modifyProduct:l}},69:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return d}));var n=r(11),a=r.n(n),c=r(24),i=r(73),s=r(68),o=function(e){var t={type:i.a,data:e};return function(e){e(t)}},u=function(e){var t={type:i.c,data:e};return function(e){e(t)}},d=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.getAll();case 2:r=e.sent,n={type:i.b,data:r},t(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},70:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),"data:image/jpeg;base64,"+window.btoa(t)}},73:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return c}));var n="ADD_PRODUCT",a="GET_PRODUCTS",c="REMOVE_PRODUCT"},80:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(119),a=function(e){var t={type:n.a,data:e};return function(e){e(t)}}},82:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a}));var n="SET_NOTIFICATION",a="HIDE_NOTIFICATION"},98:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n="SET_FILTER",a="SET_TAG"}},[[364,1,2]]]);
//# sourceMappingURL=main.afc6ab6b.chunk.js.map