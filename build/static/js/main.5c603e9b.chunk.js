(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{290:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(15),c=r.n(a),i=r(61),s=r(60),o=r(14),d=r(316),l=r(318),u=r(319),j=r(321),p=r(322),b=r(320),m=r(145),h=r.n(m),x=r(147),f=r.n(x),O=r(148),g=r.n(O),v=r(332),y="LOG_IN",N=function(e){var t={type:y,data:e};return function(e){e(t)}},w="SET_NOTIFICATION",k="HIDE_NOTIFICATION",C=function(e){return"INCREASE_QUANTITY"===e.type||"DECREASE_QUANTITY"===e.type||"REMOVE_PRODUCT_FROM_CART"===e.type},I=function(e){return"CREATE_NEW_SHOPPING_CART"===e.type},R=function(e){return"CLEAR_SHOPPINGCART"===e.type},T=function(e,t){if("error"===(n=t)||"info"===n||"success"===n){var r={type:w,notificationType:t,data:e};return function(e){e(r)}}var n,a={type:w,notificationType:"error",data:e};return function(e){e(a)}},S=function(){var e={type:k,notificationType:"error",data:""};return function(t){t(e)}},P=r(150),A=r(24),q=r(7),E="ADD_PRODUCT",L="GET_PRODUCTS",U="REMOVE_PRODUCT",_={products:[]},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(q.a)(Object(q.a)({},e),{},{products:t.data});case E:return Object(q.a)(Object(q.a)({},e),{},{products:e.products.concat(t.data)});case U:return Object(q.a)(Object(q.a)({},e),{},{products:e.products.filter((function(e){return e!==t.data}))})}return e},M={user:null},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(q.a)(Object(q.a)({},e),{},{user:t.data})}return e},W={message:"",type:"error",visible:!1},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(q.a)(Object(q.a)({},e),{},{message:t.data,type:t.notificationType,visible:!0});case k:return Object(q.a)(Object(q.a)({},e),{},{message:"",type:t.notificationType,visible:!1})}return e},H="INCREASE_QUANTITY",z="DECREASE_QUANTITY",Q="REMOVE_PRODUCT_FROM_CART",V="CREATE_NEW_SHOPPING_CART",G={cartId:"",cart:[]},Y=function(e,t){var r=t.find((function(t){return t.id===e.id}));return void 0===r||(e.quantity=r.quantity+1),e},$=function(e,t){var r=t.find((function(t){return t.id===e.id}));return void 0===r||(e.quantity=r.quantity-1),e},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;if(C(t))switch(t.type){case H:if(!e.cart.some((function(e){return e.id===t.data.id})))return{cartId:t.cartId,cart:e.cart.concat(t.data)};var r=Y(t.data,e.cart);return{cartId:t.cartId,cart:e.cart.map((function(e){return e.id===r.id?r:e}))};case z:var n=$(t.data,e.cart);return{cartId:t.cartId,cart:e.cart.map((function(e){return e.id===n.id?n:e}))};case Q:return{cartId:t.cartId,cart:e.cart.filter((function(e){return e.id!==t.data.id}))}}else if(I(t))switch(t.type){case V:return{cartId:t.cartId,cart:e.cart}}else if(R(t))return{cartId:"",cart:[]};return e},K={createUserModal:!1,logInModal:!1,addProductModal:!1},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.modal){case"AddProduct":return Object(q.a)(Object(q.a)({},e),{},{addProductModal:t.data});case"CreateUser":return Object(q.a)(Object(q.a)({},e),{},{createUserModal:t.data});case"LogIn":return Object(q.a)(Object(q.a)({},e),{},{logInModal:t.data});default:return e}},Z=Object(A.c)({productReducer:B,userReducer:D,notificationReducer:F,shoppingCartReducer:J,modalReducer:X}),ee=Object(P.a)({reducer:Z}),te=function(){return Object(i.b)()},re=i.c,ne=ee,ae=r(33),ce=r(334),ie=r(8),se=r(292),oe=r(314),de=r(11),le=r(10),ue=r.n(le),je=r(22),pe=r(25),be=r.n(pe),me={signIn:function(){var e=Object(je.a)(ue.a.mark((function e(t,r){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.a.post("http://verkkis.herokuapp.com/api/login",{username:t,password:r});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),createUser:function(){var e=Object(je.a)(ue.a.mark((function e(t){var r;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.a.post("http://verkkis.herokuapp.com/api/users",t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},he=function(e,t){var r={type:"",modal:t,data:e};return console.log("Handle modal action",r),function(e){e(r)}},xe=function(e,t){var r=Object(q.a)(Object(q.a)({},e),{},{quantity:1}),n={type:H,cartId:t,data:r};return function(e){e(n)}},fe=function(e,t){var r={type:H,cartId:t,data:Object(q.a)(Object(q.a)({},e),{},{quantity:e.quantity+1})};return function(e){e(r)}},Oe=function(e,t){console.log("hep",e);var r={type:z,cartId:t,data:Object(q.a)(Object(q.a)({},e),{},{quantity:e.quantity-1})};return function(e){e(r)}},ge=function(e,t){var r={type:Q,cartId:t,data:e};return function(e){e(r)}},ve=function(){var e=Object(je.a)(ue.a.mark((function e(t){var r;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.a.post("http://verkkis.herokuapp.com/api/shoppingCart",t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(je.a)(ue.a.mark((function e(t){var r;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.a.post("http://verkkis.herokuapp.com/api/shoppingCart/".concat(t.cartId,"/addProduct"),t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(je.a)(ue.a.mark((function e(t){var r;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.a.put("http://verkkis.herokuapp.com/api/shoppingCart/".concat(t.cartId,"/remove"),t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we={createNewShoppingCart:ve,addProductToShoppingCart:ye,increaseProductQuantity:function(){var e=Object(je.a)(ue.a.mark((function e(t){var r;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.a.put("http://verkkis.herokuapp.com/api/shoppingCart/".concat(t.cartId,"/increase"),t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),decreaseProductQuantity:function(){var e=Object(je.a)(ue.a.mark((function e(t){var r;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.a.put("http://verkkis.herokuapp.com/api/shoppingCart/".concat(t.cartId,"/decrease"),t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),removeProductFromShoppingCart:Ne},ke=r(1),Ce=Object(se.a)({field:{padding:5,left:10,borderColor:"#124eb0",position:"relative",marginBottom:10,width:"90%"},button:{display:"inline-flex",alignItems:"center",position:"relative",padding:20,paddingRight:5,left:"38%",transform:"translate(-50%, -$50%)",borderWidth:3,borderRadius:35,width:92,height:20,opacity:.95,backgroundColor:"#124eb0",fontSize:16,fontStyle:"bold",color:"white"}}),Ie=de.b().shape({userName:de.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:de.c().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),Re=function(){var e=te(),t=re((function(e){return e.shoppingCartReducer})),r=Ce();return Object(ke.jsx)("div",{children:Object(ke.jsx)(ie.c,{initialValues:{userName:"",password:""},validationSchema:Ie,onSubmit:function(r){me.signIn(r.userName,r.password).then((function(r){if(void 0===r.token){e(T("Invalid username / password","error")),setTimeout((function(){e(S())}),5e3)}else{var n={id:r.id,firstName:r.firstName,lastName:r.lastName,userName:r.userName,userType:r.userType,token:r.token};e(N(n)),e(he(!1,"LogIn"));e(T("Logged in as: "+n.userName,"success")),setTimeout((function(){e(S())}),5e3),we.createNewShoppingCart({products:t.cart,userId:r.id}).then((function(t){console.log("response",t),e(function(e){var t={type:V,cartId:e};return function(e){e(t)}}(t.id))}))}}))},children:function(e){var t=e.errors,n=e.touched;return Object(ke.jsxs)(ie.b,{children:[Object(ke.jsxs)(oe.a,{container:!0,spacing:1,children:[Object(ke.jsxs)(oe.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(ke.jsx)(oe.a,{item:!0,xs:2,children:Object(ke.jsx)("label",{children:"Username: "})}),Object(ke.jsx)(oe.a,{item:!0,xs:9,children:Object(ke.jsx)(ie.a,{className:r.field,placeholder:"Username",type:"text",name:"userName"})}),Object(ke.jsx)(oe.a,{item:!0,xs:1,children:t.userName&&n.userName?Object(ke.jsx)("div",{children:t.userName}):null})]}),Object(ke.jsxs)(oe.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(ke.jsx)(oe.a,{item:!0,xs:2,children:Object(ke.jsx)("label",{children:"Password: "})}),Object(ke.jsx)(oe.a,{item:!0,xs:9,children:Object(ke.jsx)(ie.a,{className:r.field,placeholder:"Password",type:"password",name:"password"})}),Object(ke.jsx)(oe.a,{item:!0,xs:1,children:t.password&&n.password?Object(ke.jsx)("div",{children:t.password}):null})]})]}),Object(ke.jsx)("button",{className:r.button,type:"submit",children:"Submit"})]})}})})},Te=function(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}},Se=Object(d.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{position:"absolute",width:450,height:170,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},header:{background:"linear-gradient(45deg, #124eb0 70%, #501573 90%)",border:0,borderRadius:30,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",textAlign:"center",height:30,marginTop:5,padding:"0 30px"}}})),Pe=function(){var e=Se();return Object(ke.jsx)("h2",{className:e.header,children:" Log In"})},Ae=function(){var e=Se(),t=Object(n.useState)(Te),r=Object(ae.a)(t,1)[0],a=re((function(e){return e.modalReducer.logInModal})),c=te();return Object(ke.jsx)(ce.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:a,onClose:function(){c(he(!a,"LogIn"))},children:Object(ke.jsxs)("div",{style:r,className:e.paper,children:[Object(ke.jsx)(Pe,{}),Object(ke.jsx)(Re,{})]})})},qe={getAll:function(){return be.a.get("http://verkkis.herokuapp.com/api/products").then((function(e){return e.data}))},addProduct:function(){var e=Object(je.a)(ue.a.mark((function e(t){var r;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.a.post("http://verkkis.herokuapp.com/api/products",t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteProduct:function(){var e=Object(je.a)(ue.a.mark((function e(t){var r;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.a.delete("http://verkkis.herokuapp.com/api/products/".concat(t.id));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ee=Object(se.a)({field:{padding:5,borderColor:"#124eb0",position:"relative",marginBottom:10,width:"90%",maxWidth:700},button:{display:"inline-flex",alignItems:"center",position:"relative",padding:20,paddingRight:75,marginTop:10,left:"38%",transform:"translate(-50%, -$50%)",borderWidth:3,borderRadius:35,width:92,height:20,opacity:.95,backgroundColor:"#124eb0",fontSize:16,fontStyle:"bold",color:"white"}}),Le=de.b().shape({name:de.c().required("Required"),description:de.c(),price:de.a().required("Required"),stock:de.a(),image:de.c()}),Ue=function(){var e=te(),t=Ee();return Object(ke.jsx)("div",{children:Object(ke.jsx)(ie.c,{initialValues:{name:"",description:"",price:0,stock:0,image:""},validationSchema:Le,onSubmit:function(t){var r={name:t.name,description:t.description,price:t.price,stock:t.stock,image:t.image};qe.addProduct(r).then((function(t){var n={name:t.name,description:t.description,price:t.price,stock:t.stock,image:t.image,id:t.id};e(function(e){var t={type:E,data:e};return function(e){e(t)}}(n));e(T("Product "+r.name+" added","success")),setTimeout((function(){e(S())}),5e3)}))},children:function(e){var r=e.errors,n=e.touched;return Object(ke.jsxs)(ie.b,{children:[Object(ke.jsxs)(oe.a,{container:!0,spacing:1,children:[Object(ke.jsxs)(oe.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(ke.jsx)(oe.a,{item:!0,xs:2,children:Object(ke.jsx)("label",{children:"Name: "})}),Object(ke.jsx)(oe.a,{item:!0,xs:9,children:Object(ke.jsx)(ie.a,{className:t.field,placeholder:"My New Product",type:"text",name:"name"})}),Object(ke.jsx)(oe.a,{item:!0,xs:1,children:r.name&&n.name?Object(ke.jsx)("div",{children:r.name}):null})]}),Object(ke.jsxs)(oe.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(ke.jsx)(oe.a,{item:!0,xs:2,children:Object(ke.jsx)("label",{children:"Description: "})}),Object(ke.jsx)(oe.a,{item:!0,xs:9,children:Object(ke.jsx)(ie.a,{className:t.field,placeholder:"So useless product that Wish.com should sell these",type:"text",name:"description"})}),Object(ke.jsx)(oe.a,{item:!0,xs:1,children:r.description&&n.description?Object(ke.jsx)("div",{children:r.description}):null})]}),Object(ke.jsxs)(oe.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(ke.jsx)(oe.a,{item:!0,xs:2,children:Object(ke.jsx)("label",{children:"Price: "})}),Object(ke.jsx)(oe.a,{item:!0,xs:9,children:Object(ke.jsx)(ie.a,{className:t.field,placeholder:"Price",type:"number",name:"price"})}),Object(ke.jsx)(oe.a,{item:!0,xs:1,children:r.price&&n.price?Object(ke.jsx)("div",{children:r.price}):null})]}),Object(ke.jsxs)(oe.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(ke.jsx)(oe.a,{item:!0,xs:2,children:Object(ke.jsx)("label",{children:"Stock: "})}),Object(ke.jsx)(oe.a,{item:!0,xs:9,children:Object(ke.jsx)(ie.a,{className:t.field,placeholder:"Stock",type:"number",name:"stock"})}),Object(ke.jsx)(oe.a,{item:!0,xs:1,children:r.stock&&n.stock?Object(ke.jsx)("div",{children:r.stock}):null})]}),Object(ke.jsxs)(oe.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(ke.jsx)(oe.a,{item:!0,xs:2,children:Object(ke.jsx)("label",{children:"Image: "})}),Object(ke.jsx)(oe.a,{item:!0,xs:9,children:Object(ke.jsx)(ie.a,{className:t.field,placeholder:"www.image.com",type:"text",name:"image"})}),Object(ke.jsx)(oe.a,{item:!0,xs:1,children:r.image&&n.image?Object(ke.jsx)("div",{children:r.image}):null})]})]}),Object(ke.jsx)("button",{className:t.button,type:"submit",children:"Submit"})]})}})})},_e=function(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}},Be=Object(d.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{position:"absolute",width:650,height:350,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},header:{background:"linear-gradient(45deg, #124eb0 70%, #501573 90%)",border:0,borderRadius:30,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",textAlign:"center",height:30,marginTop:5,padding:"0 30px"}}})),Me=function(){var e=Be();return Object(ke.jsx)("h2",{className:e.header,children:" Add Product "})},De=function(){var e=Be(),t=Object(n.useState)(_e),r=Object(ae.a)(t,1)[0],a=re((function(e){return e.modalReducer.addProductModal})),c=te();return Object(ke.jsx)(ce.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:a,onClose:function(){c(he(!a,"AddProduct"))},children:Object(ke.jsxs)("div",{style:r,className:e.paper,children:[Object(ke.jsx)(Me,{}),Object(ke.jsx)(Ue,{})]})})},We=Object(se.a)({field:{padding:5,borderColor:"#124eb0",position:"relative",marginBottom:10,width:"90%",maxWidth:700},button:{display:"inline-flex",alignItems:"center",position:"relative",padding:20,paddingRight:75,marginTop:10,left:"42%",transform:"translate(-50%, -$50%)",borderWidth:3,borderRadius:35,width:92,height:20,opacity:.95,backgroundColor:"#124eb0",fontSize:16,fontStyle:"bold",color:"white"}}),Fe=de.b().shape({userName:de.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),firstName:de.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),lastName:de.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:de.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),email:de.c().email("Invalid email").required("Required")}),He=function(){var e=We(),t=te();return Object(ke.jsx)("div",{children:Object(ke.jsx)(ie.c,{initialValues:{userName:"",firstName:"",lastName:"",password:"",email:""},validationSchema:Fe,onSubmit:function(e){var r={userName:e.userName,firstName:e.firstName,lastName:e.lastName,password:e.password,email:e.email,userType:"User"};me.createUser(r).then((function(e){null===e?t(T("User creation failed","error")):(t(he(!1,"CreateUser")),t(T("Created user: "+r.userName,"success"))),setTimeout((function(){t(S())}),5e3)}))},children:function(t){var r=t.errors,n=t.touched;return Object(ke.jsxs)(ie.b,{children:[Object(ke.jsxs)(oe.a,{container:!0,spacing:1,children:[Object(ke.jsxs)(oe.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(ke.jsx)(oe.a,{item:!0,xs:2,children:Object(ke.jsx)("label",{children:"Username: "})}),Object(ke.jsx)(oe.a,{item:!0,xs:9,children:Object(ke.jsx)(ie.a,{className:e.field,placeholder:"Username",type:"text",name:"userName"})}),Object(ke.jsx)(oe.a,{item:!0,xs:1,children:r.userName&&n.userName?Object(ke.jsx)("div",{children:r.userName}):null})]}),Object(ke.jsxs)(oe.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(ke.jsx)(oe.a,{item:!0,xs:2,children:Object(ke.jsx)("label",{children:"Firstname: "})}),Object(ke.jsx)(oe.a,{item:!0,xs:9,children:Object(ke.jsx)(ie.a,{className:e.field,placeholder:"Firstname",type:"text",name:"firstName"})}),Object(ke.jsx)(oe.a,{item:!0,xs:1,children:r.firstName&&n.firstName?Object(ke.jsx)("div",{children:r.firstName}):null})]}),Object(ke.jsxs)(oe.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(ke.jsx)(oe.a,{item:!0,xs:2,children:Object(ke.jsx)("label",{children:"Lastname: "})}),Object(ke.jsx)(oe.a,{item:!0,xs:9,children:Object(ke.jsx)(ie.a,{className:e.field,placeholder:"Lastname",type:"text",name:"lastName"})}),Object(ke.jsx)(oe.a,{item:!0,xs:1,children:r.lastName&&n.lastName?Object(ke.jsx)("div",{children:r.lastName}):null})]}),Object(ke.jsxs)(oe.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(ke.jsx)(oe.a,{item:!0,xs:2,children:Object(ke.jsx)("label",{children:"Password: "})}),Object(ke.jsx)(oe.a,{item:!0,xs:9,children:Object(ke.jsx)(ie.a,{className:e.field,placeholder:"Password",type:"password",name:"password"})}),Object(ke.jsx)(oe.a,{item:!0,xs:1,children:r.password&&n.password?Object(ke.jsx)("div",{children:r.password}):null})]}),Object(ke.jsxs)(oe.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(ke.jsx)(oe.a,{item:!0,xs:2,children:Object(ke.jsx)("label",{children:"Email: "})}),Object(ke.jsx)(oe.a,{item:!0,xs:9,children:Object(ke.jsx)(ie.a,{className:e.field,placeholder:"example@gmail.com",type:"text",name:"email"})}),Object(ke.jsx)(oe.a,{item:!0,xs:1,children:r.email&&n.email?Object(ke.jsx)("div",{children:r.email}):null})]})]}),Object(ke.jsx)("button",{className:e.button,type:"submit",children:"Submit"})]})}})})},ze=function(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}},Qe=Object(d.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{position:"absolute",width:650,height:370,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},header:{background:"linear-gradient(45deg, #124eb0 70%, #501573 90%)",border:0,borderRadius:30,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",textAlign:"center",height:30,marginTop:5,padding:10,marginBottom:30}}})),Ve=function(){var e=Qe();return Object(ke.jsx)("h2",{className:e.header,children:" Create User "})},Ge=function(){var e=Qe(),t=Object(n.useState)(ze),r=Object(ae.a)(t,1)[0],a=te(),c=re((function(e){return e.modalReducer.createUserModal}));return Object(ke.jsx)(ce.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:c,onClose:function(){a(he(!1,"CreateUser"))},children:Object(ke.jsxs)("div",{style:r,className:e.paper,children:[Object(ke.jsx)(Ve,{}),Object(ke.jsx)(He,{})]})})},Ye=Object(d.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{marginRight:e.spacing(10)},buttons:{display:"flex",marginLeft:"auto",marginRight:-12,fontSize:15},login:{margin:e.spacing(2),fontSize:15},addProductIcon:{height:30,width:30},shoppingCart:{color:"white",fontSize:30}}})),$e=function(e){var t=e.user,r=Ye(),n=te();return Object(ke.jsx)("div",{children:Object(ke.jsxs)(l.a,{position:"static",color:"primary",children:[Object(ke.jsxs)(u.a,{children:[Object(ke.jsx)(s.b,{to:"/",children:Object(ke.jsx)(b.a,{edge:"start",className:r.menuButton,color:"inherit","aria-label":"menu",children:Object(ke.jsx)(h.a,{})})}),Object(ke.jsx)(j.a,{variant:"h6",className:r.title,children:"Verkkokauppa"}),Object(ke.jsxs)("div",{className:r.buttons,children:[null!==t&&"Admin"===t.userType?Object(ke.jsx)(b.a,{onClick:function(){return n(he(!0,"AddProduct"))},color:"inherit",children:Object(ke.jsx)(v.a,{title:"Add product",children:Object(ke.jsx)(f.a,{className:r.addProductIcon})})}):null,null===t?Object(ke.jsx)("div",{children:Object(ke.jsx)(p.a,{onClick:function(){return n(he(!0,"LogIn"))},color:"inherit",children:Object(ke.jsx)(j.a,{variant:"h6",className:r.login,children:"Login"})})}):Object(ke.jsx)("div",{children:Object(ke.jsx)(p.a,{onClick:function(){return n(N(null)),n(function(){var e={type:"CLEAR_SHOPPINGCART"};return function(t){t(e)}}()),n(T("Have a nice day","success")),void setTimeout((function(){n(S())}),5e3)},color:"inherit",children:Object(ke.jsx)(j.a,{variant:"h6",className:r.login,children:"Log out"})})}),null===t?Object(ke.jsx)("div",{children:Object(ke.jsx)(p.a,{onClick:function(){return n(he(!0,"CreateUser"))},color:"inherit",children:Object(ke.jsx)(j.a,{variant:"h6",className:r.login,children:"Create User"})})}):null,Object(ke.jsx)("div",{children:Object(ke.jsx)(s.b,{to:"/shoppingCart",children:Object(ke.jsx)(b.a,{className:r.shoppingCart,children:Object(ke.jsx)(g.a,{style:{fontSize:30,marginTop:5}})})})})]})]}),Object(ke.jsx)(Ae,{}),Object(ke.jsx)(De,{}),Object(ke.jsx)(Ge,{})]})})},Je=r(323),Ke=r(324),Xe=r(327),Ze=r(326),et=r(325),tt=r(149),rt=r.n(tt),nt=Object(d.a)({root:{maxWidth:170,marginRight:20},centerText:{textAlign:"center"},media:{height:160},overflow:{maxWidth:170,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}),at=function(e){var t=e.product,r=nt(),n=te(),a=re((function(e){return e.userReducer.user})),c=re((function(e){return e.shoppingCartReducer.cartId})),i=re((function(e){return e.shoppingCartReducer.cart})),s=function(){qe.deleteProduct(t),n(function(e){var t={type:U,data:e};return function(e){e(t)}}(t)),n(T("Removed "+t.name,"info")),setTimeout((function(){n(S())}),5e3)},o=function(e){a?we.addProductToShoppingCart({product:e,userId:a.id,cartId:c}).then((function(t){console.log("res",t),n(xe(e,c))})):n(xe(e,c))},d=function(e){a||n(fe(e,c))};return Object(ke.jsxs)(Je.a,{className:r.root,children:[Object(ke.jsxs)(Ke.a,{children:[Object(ke.jsx)(et.a,{className:r.media,image:t.image}),Object(ke.jsxs)(Ze.a,{children:[Object(ke.jsxs)(j.a,{className:"".concat(r.overflow," ").concat(r.centerText),style:{fontSize:16},gutterBottom:!0,variant:"h6",component:"h2",children:[t.name," ",Object(ke.jsx)("br",{})," ",t.price,"\u20ac"]}),Object(ke.jsx)(j.a,{className:"".concat(r.overflow," ").concat(r.centerText),variant:"body2",color:"textSecondary",component:"p",children:t.description})]})]}),Object(ke.jsxs)(Xe.a,{children:[Object(ke.jsx)(p.a,{size:"small",color:"primary",onClick:function(){return function(){var e=i.some((function(e){return e.id===t.id})),r=i.find((function(e){return e.id===t.id}));void 0===r&&(r=Object(q.a)(Object(q.a)({},t),{},{quantity:1})),e?(console.log("Product already in cart, increasing quantity"),d(r)):(console.log("Adding new product to cart"),o(r))}()},children:"Lis\xe4\xe4 ostoskoriin"}),null!==a&&"Admin"===a.userType?Object(ke.jsx)(b.a,{onClick:function(){return s()},children:Object(ke.jsx)(v.a,{title:"Remove product from database",children:Object(ke.jsx)(rt.a,{})})}):null]})]})},ct=Object(d.a)({root:{display:"flex",paddingLeft:15}}),it=function(){var e=ct(),t=re((function(e){return e.productReducer.products}));return 0===t.length?Object(ke.jsx)("div",{}):Object(ke.jsx)("div",{className:e.root,children:t.map((function(e){return Object(ke.jsx)(at,{product:e},e.id)}))})},st=r(331),ot=r(330),dt=Object(se.a)({field:{padding:5,borderColor:"#124eb0",position:"relative",marginBottom:10,width:"90%",maxWidth:700},button:{display:"inline-flex",alignItems:"center",position:"relative",padding:20,paddingRight:75,marginTop:10,paddingBottom:20,transform:"translate(-50%, -$50%)",borderWidth:3,borderRadius:10,width:92,height:20,opacity:.95,backgroundColor:"#124eb0",fontSize:16,fontStyle:"bold",color:"white"},logInText:{position:"relative",marginLeft:20,marginTop:20}}),lt=de.b().shape({firstName:de.c().required("Required"),lastName:de.c().required("Required"),address:de.c().required("Required")}),ut=function(){var e=te(),t=dt(),r=re((function(e){return e.userReducer.user}));re((function(e){return e.shoppingCartReducer.cart}));return Object(ke.jsx)("div",{children:Object(ke.jsx)(ie.c,{initialValues:{firstName:"",lastName:"",address:""},validationSchema:lt,onSubmit:function(t){t.firstName,t.lastName;var n=t.address;if(null!==r){e(T("Delivering products to "+n,"success")),setTimeout((function(){e(S())}),5e3)}},children:function(e){var n=e.errors,a=e.touched;return Object(ke.jsxs)(ie.b,{children:[Object(ke.jsxs)(oe.a,{container:!0,spacing:1,children:[Object(ke.jsxs)(oe.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(ke.jsx)(oe.a,{item:!0,xs:2,children:Object(ke.jsx)("label",{children:"First name: "})}),Object(ke.jsx)(oe.a,{item:!0,xs:9,children:Object(ke.jsx)(ie.a,{className:t.field,placeholder:"First name",type:"text",name:"firstName"})}),Object(ke.jsx)(oe.a,{item:!0,xs:1,children:n.firstName&&a.firstName?Object(ke.jsx)("div",{children:n.firstName}):null})]}),Object(ke.jsxs)(oe.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(ke.jsx)(oe.a,{item:!0,xs:2,children:Object(ke.jsx)("label",{children:"Last name: "})}),Object(ke.jsx)(oe.a,{item:!0,xs:9,children:Object(ke.jsx)(ie.a,{className:t.field,placeholder:"Last name",type:"text",name:"lastName"})}),Object(ke.jsx)(oe.a,{item:!0,xs:1,children:n.lastName&&a.lastName?Object(ke.jsx)("div",{children:n.lastName}):null})]}),Object(ke.jsxs)(oe.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(ke.jsx)(oe.a,{item:!0,xs:2,children:Object(ke.jsx)("label",{children:"Address: "})}),Object(ke.jsx)(oe.a,{item:!0,xs:9,children:Object(ke.jsx)(ie.a,{className:t.field,placeholder:"Address",type:"text",name:"address"})}),Object(ke.jsx)(oe.a,{item:!0,xs:1,children:n.address&&a.address?Object(ke.jsx)("div",{children:n.address}):null})]})]}),Object(ke.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(ke.jsx)("button",{disabled:null===r,className:t.button,type:"submit",children:" Submit "}),null===r?Object(ke.jsx)(j.a,{variant:"subtitle1",className:t.logInText,children:" Please sign in first "}):null]})]})}})})},jt=r(328),pt=r(329),bt=r(83),mt=r(84),ht=Object(se.a)({container:{display:"flex",flexDirection:"row"},card:{width:380,maxHeight:140,marginBottom:15},details:{display:"flex",flexDirection:"column",height:120},content:{width:190,height:20,flex:"1 0 auto",backgroundColor:bt.a[200]},info:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},image:{width:"100%"},contentAndImage:{display:"flex",maxHeight:120},deleteButton:{display:"flex",backgroundColor:mt.a[400],justifyContent:"center"},iconButtons:{position:"relative",top:50}}),xt=function(e){var t,r=e.product,n=ht(),a=te(),c=re((function(e){return e.shoppingCartReducer.cartId})),i=re((function(e){return e.userReducer.user}));t=i?i.id:"";return Object(ke.jsxs)("div",{className:n.container,children:[Object(ke.jsxs)(Je.a,{className:n.card,children:[Object(ke.jsxs)("div",{className:n.contentAndImage,children:[Object(ke.jsx)("div",{className:n.details,children:Object(ke.jsxs)(Ze.a,{className:n.content,children:[Object(ke.jsxs)(j.a,{className:n.info,component:"h6",variant:"h6",children:[r.name," x ",r.quantity.toString()]}),Object(ke.jsx)(j.a,{className:n.info,variant:"subtitle1",color:"textSecondary",children:r.description}),Object(ke.jsxs)(j.a,{variant:"subtitle1",color:"textSecondary",children:[r.price,"\u20ac"]})]})}),Object(ke.jsx)(et.a,{className:n.image,image:r.image})]}),Object(ke.jsx)("div",{children:Object(ke.jsx)(Ke.a,{className:n.deleteButton,onClick:function(){return function(e){i?we.removeProductFromShoppingCart({cartId:c,userId:t,product:e}).then((function(){a(ge(e,c))})):a(ge(e,c))}(r)},children:"Remove item(s) from cart"})})]}),Object(ke.jsxs)("div",{className:n.iconButtons,children:[Object(ke.jsx)(b.a,{onClick:function(){return function(e){i?we.decreaseProductQuantity({cartId:c,userId:t,product:e}).then((function(){a(Oe(e,c))})):a(Oe(e,c))}(r)},children:Object(ke.jsx)(jt.a,{})}),Object(ke.jsx)(b.a,{onClick:function(){return function(e){i?we.increaseProductQuantity({cartId:c,userId:t,product:e}).then((function(){a(fe(e,c))})):a(fe(e,c))}(r)},children:Object(ke.jsx)(pt.a,{style:{marginLeft:-10}})})]})]})},ft=Object(se.a)({box:{maxHeight:350},shoppingCartAndFormBox:{margin:25,borderRadius:15},cart:{margin:25,borderRadius:5,height:300},container:{marginTop:15},deleteIcon:{position:"relative",top:-15},form:{borderWidth:1,marginTop:75,padding:10},empty:{position:"relative",top:"50%",left:"25%"}}),Ot=function(){var e,t=ft(),r=te(),n=re((function(e){return e.shoppingCartReducer.cart})),a=re((function(e){return e.userReducer.user}));e=a?a.id:"";var c=re((function(e){return e.shoppingCartReducer.cartId}));return Object(ke.jsx)(st.a,{className:t.box,border:1,children:Object(ke.jsxs)(oe.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(ke.jsx)(oe.a,{item:!0,xs:5,children:Object(ke.jsx)(st.a,{border:1,className:t.cart,children:0===n.length?Object(ke.jsx)(j.a,{variant:"h5",className:t.empty,children:" Your Shopping Cart Is Empty "}):Object(ke.jsxs)("div",{style:{maxHeight:300,overflow:"auto"},children:[n.map((function(n){if(n.quantity>0)return Object(ke.jsx)(ot.a,{className:t.container,maxWidth:"sm",children:Object(ke.jsx)(xt,{product:n})},n.id);!function(t){a?we.removeProductFromShoppingCart({cartId:c,userId:e,product:t}).then((function(){r(ge(t,c))})):r(ge(t,c))}(n)})),Object(ke.jsxs)(j.a,{variant:"h5",style:{marginLeft:20},children:["Total price: ",n.reduce((function(e,t){return e+t.price*t.quantity}),0)]})]})})}),Object(ke.jsx)(oe.a,{item:!0,xs:7,children:Object(ke.jsx)(st.a,{border:1,className:t.shoppingCartAndFormBox,children:Object(ke.jsx)("div",{className:t.form,children:Object(ke.jsx)(ut,{})})})})]})})},gt=r(333),vt=function(e){var t=e.type,r=e.message;switch(t){case"success":return Object(ke.jsxs)(gt.a,{elevation:6,variant:"filled",severity:"success",children:[" ",r," "]});case"error":return Object(ke.jsxs)(gt.a,{elevation:6,variant:"filled",severity:"error",children:[" ",r," "]});default:return Object(ke.jsxs)(gt.a,{elevation:6,variant:"filled",severity:"info",children:[" ",r," "]})}},yt=Object(d.a)({root:{width:"15%",position:"relative",marginBottom:15,left:15}}),Nt=function(e){var t=e.type,r=e.message,n=yt();return Object(ke.jsx)("div",{className:n.root,children:Object(ke.jsx)(vt,{type:t,message:r})})},wt=function(){var e=te();Object(n.useEffect)((function(){e(function(){var e=Object(je.a)(ue.a.mark((function e(t){var r;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe.getAll();case 2:r=e.sent,t({type:L,data:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=re((function(e){return e.userReducer.user})),r=re((function(e){return e.notificationReducer}));return Object(ke.jsx)("div",{children:Object(ke.jsxs)(s.a,{children:[Object(ke.jsx)($e,{user:t}),Object(ke.jsx)("br",{}),r.visible?Object(ke.jsx)("div",{children:Object(ke.jsx)(Nt,{type:r.type,message:r.message})}):null,Object(ke.jsx)(o.c,{children:Object(ke.jsx)(o.a,{path:"/shoppingCart",render:function(){return Object(ke.jsx)(Ot,{})}})}),Object(ke.jsx)(o.c,{children:Object(ke.jsx)(o.a,{exact:!0,path:"/",render:function(){return Object(ke.jsx)(it,{})}})})]})})};c.a.render(Object(ke.jsx)(i.a,{store:ne,children:Object(ke.jsx)(wt,{})}),document.getElementById("root"))}},[[290,1,2]]]);
//# sourceMappingURL=main.5c603e9b.chunk.js.map